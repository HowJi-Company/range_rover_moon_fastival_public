(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Qn(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ne={},Mt=[],qe=()=>{},Js=()=>!1,xn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),es=e=>e.startsWith("onUpdate:"),ke=Object.assign,ts=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},tr=Object.prototype.hasOwnProperty,te=(e,t)=>tr.call(e,t),N=Array.isArray,Tt=e=>Sn(e)==="[object Map]",Xs=e=>Sn(e)==="[object Set]",U=e=>typeof e=="function",me=e=>typeof e=="string",pt=e=>typeof e=="symbol",ue=e=>e!==null&&typeof e=="object",Zs=e=>(ue(e)||U(e))&&U(e.then)&&U(e.catch),Qs=Object.prototype.toString,Sn=e=>Qs.call(e),nr=e=>Sn(e).slice(8,-1),eo=e=>Sn(e)==="[object Object]",ns=e=>me(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,jt=Qn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},sr=/-\w/g,je=Cn(e=>e.replace(sr,t=>t.slice(1).toUpperCase())),or=/\B([A-Z])/g,ht=Cn(e=>e.replace(or,"-$1").toLowerCase()),Pn=Cn(e=>e.charAt(0).toUpperCase()+e.slice(1)),An=Cn(e=>e?`on${Pn(e)}`:""),ut=(e,t)=>!Object.is(e,t),ln=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},to=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Hn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let bs;const En=()=>bs||(bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wt(e){if(N(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=me(s)?ar(s):wt(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(me(e)||ue(e))return e}const rr=/;(?![^(]*\))/g,ir=/:([^]+)/,lr=/\/\*[^]*?\*\//g;function ar(e){const t={};return e.replace(lr,"").split(rr).forEach(n=>{if(n){const s=n.split(ir);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function en(e){let t="";if(me(e))t=e;else if(N(e))for(let n=0;n<e.length;n++){const s=en(e[n]);s&&(t+=s+" ")}else if(ue(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const cr="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ur=Qn(cr);function no(e){return!!e||e===""}const so=e=>!!(e&&e.__v_isRef===!0),Se=e=>me(e)?e:e==null?"":N(e)||ue(e)&&(e.toString===Qs||!U(e.toString))?so(e)?Se(e.value):JSON.stringify(e,oo,2):String(e),oo=(e,t)=>so(t)?oo(e,t.value):Tt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[Fn(s,r)+" =>"]=o,n),{})}:Xs(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Fn(n))}:pt(t)?Fn(t):ue(t)&&!N(t)&&!eo(t)?String(t):t,Fn=(e,t="")=>{var n;return pt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ae;class fr{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ae,!t&&Ae&&(this.index=(Ae.scopes||(Ae.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ae;try{return Ae=this,t()}finally{Ae=n}}}on(){++this._on===1&&(this.prevScope=Ae,Ae=this)}off(){this._on>0&&--this._on===0&&(Ae=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function dr(){return Ae}let oe;const Rn=new WeakSet;class ro{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ae&&Ae.active&&Ae.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Rn.has(this)&&(Rn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||lo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ws(this),ao(this);const t=oe,n=Be;oe=this,Be=!0;try{return this.fn()}finally{co(this),oe=t,Be=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)rs(t);this.deps=this.depsTail=void 0,ws(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Rn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Un(this)&&this.run()}get dirty(){return Un(this)}}let io=0,Vt,Bt;function lo(e,t=!1){if(e.flags|=8,t){e.next=Bt,Bt=e;return}e.next=Vt,Vt=e}function ss(){io++}function os(){if(--io>0)return;if(Bt){let t=Bt;for(Bt=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Vt;){let t=Vt;for(Vt=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function ao(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function co(e){let t,n=e.depsTail,s=n;for(;s;){const o=s.prevDep;s.version===-1?(s===n&&(n=o),rs(s),pr(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=o}e.deps=t,e.depsTail=n}function Un(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(uo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function uo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===qt)||(e.globalVersion=qt,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Un(e))))return;e.flags|=2;const t=e.dep,n=oe,s=Be;oe=e,Be=!0;try{ao(e);const o=e.fn(e._value);(t.version===0||ut(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{oe=n,Be=s,co(e),e.flags&=-3}}function rs(e,t=!1){const{dep:n,prevSub:s,nextSub:o}=e;if(s&&(s.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)rs(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function pr(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Be=!0;const fo=[];function nt(){fo.push(Be),Be=!1}function st(){const e=fo.pop();Be=e===void 0?!0:e}function ws(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=oe;oe=void 0;try{t()}finally{oe=n}}}let qt=0;class hr{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class is{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!oe||!Be||oe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==oe)n=this.activeLink=new hr(oe,this),oe.deps?(n.prevDep=oe.depsTail,oe.depsTail.nextDep=n,oe.depsTail=n):oe.deps=oe.depsTail=n,po(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=oe.depsTail,n.nextDep=void 0,oe.depsTail.nextDep=n,oe.depsTail=n,oe.deps===n&&(oe.deps=s)}return n}trigger(t){this.version++,qt++,this.notify(t)}notify(t){ss();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{os()}}}function po(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)po(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const pn=new WeakMap,_t=Symbol(""),Wn=Symbol(""),Yt=Symbol("");function Ce(e,t,n){if(Be&&oe){let s=pn.get(e);s||pn.set(e,s=new Map);let o=s.get(n);o||(s.set(n,o=new is),o.map=s,o.key=n),o.track()}}function et(e,t,n,s,o,r){const i=pn.get(e);if(!i){qt++;return}const a=u=>{u&&u.trigger()};if(ss(),t==="clear")i.forEach(a);else{const u=N(e),p=u&&ns(n);if(u&&n==="length"){const f=Number(s);i.forEach((h,_)=>{(_==="length"||_===Yt||!pt(_)&&_>=f)&&a(h)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),p&&a(i.get(Yt)),t){case"add":u?p&&a(i.get("length")):(a(i.get(_t)),Tt(e)&&a(i.get(Wn)));break;case"delete":u||(a(i.get(_t)),Tt(e)&&a(i.get(Wn)));break;case"set":Tt(e)&&a(i.get(_t));break}}os()}function gr(e,t){const n=pn.get(e);return n&&n.get(t)}function St(e){const t=Q(e);return t===e?t:(Ce(t,"iterate",Yt),Ne(e)?t:t.map(Te))}function ls(e){return Ce(e=Q(e),"iterate",Yt),e}const mr={__proto__:null,[Symbol.iterator](){return $n(this,Symbol.iterator,Te)},concat(...e){return St(this).concat(...e.map(t=>N(t)?St(t):t))},entries(){return $n(this,"entries",e=>(e[1]=Te(e[1]),e))},every(e,t){return Xe(this,"every",e,t,void 0,arguments)},filter(e,t){return Xe(this,"filter",e,t,n=>n.map(Te),arguments)},find(e,t){return Xe(this,"find",e,t,Te,arguments)},findIndex(e,t){return Xe(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Xe(this,"findLast",e,t,Te,arguments)},findLastIndex(e,t){return Xe(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Xe(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ln(this,"includes",e)},indexOf(...e){return Ln(this,"indexOf",e)},join(e){return St(this).join(e)},lastIndexOf(...e){return Ln(this,"lastIndexOf",e)},map(e,t){return Xe(this,"map",e,t,void 0,arguments)},pop(){return Ft(this,"pop")},push(...e){return Ft(this,"push",e)},reduce(e,...t){return _s(this,"reduce",e,t)},reduceRight(e,...t){return _s(this,"reduceRight",e,t)},shift(){return Ft(this,"shift")},some(e,t){return Xe(this,"some",e,t,void 0,arguments)},splice(...e){return Ft(this,"splice",e)},toReversed(){return St(this).toReversed()},toSorted(e){return St(this).toSorted(e)},toSpliced(...e){return St(this).toSpliced(...e)},unshift(...e){return Ft(this,"unshift",e)},values(){return $n(this,"values",Te)}};function $n(e,t,n){const s=ls(e),o=s[t]();return s!==e&&!Ne(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.value&&(r.value=n(r.value)),r}),o}const vr=Array.prototype;function Xe(e,t,n,s,o,r){const i=ls(e),a=i!==e&&!Ne(e),u=i[t];if(u!==vr[t]){const h=u.apply(e,r);return a?Te(h):h}let p=n;i!==e&&(a?p=function(h,_){return n.call(this,Te(h),_,e)}:n.length>2&&(p=function(h,_){return n.call(this,h,_,e)}));const f=u.call(i,p,s);return a&&o?o(f):f}function _s(e,t,n,s){const o=ls(e);let r=n;return o!==e&&(Ne(e)?n.length>3&&(r=function(i,a,u){return n.call(this,i,a,u,e)}):r=function(i,a,u){return n.call(this,i,Te(a),u,e)}),o[t](r,...s)}function Ln(e,t,n){const s=Q(e);Ce(s,"iterate",Yt);const o=s[t](...n);return(o===-1||o===!1)&&fs(n[0])?(n[0]=Q(n[0]),s[t](...n)):o}function Ft(e,t,n=[]){nt(),ss();const s=Q(e)[t].apply(e,n);return os(),st(),s}const br=Qn("__proto__,__v_isRef,__isVue"),ho=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(pt));function wr(e){pt(e)||(e=String(e));const t=Q(this);return Ce(t,"has",e),t.hasOwnProperty(e)}class go{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?Or:wo:r?bo:vo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=N(t);if(!o){let u;if(i&&(u=mr[n]))return u;if(n==="hasOwnProperty")return wr}const a=Reflect.get(t,n,_e(t)?t:s);return(pt(n)?ho.has(n):br(n))||(o||Ce(t,"get",n),r)?a:_e(a)?i&&ns(n)?a:a.value:ue(a)?o?_o(a):cs(a):a}}class mo extends go{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._isShallow){const u=yt(r);if(!Ne(s)&&!yt(s)&&(r=Q(r),s=Q(s)),!N(t)&&_e(r)&&!_e(s))return u||(r.value=s),!0}const i=N(t)&&ns(n)?Number(n)<t.length:te(t,n),a=Reflect.set(t,n,s,_e(t)?t:o);return t===Q(o)&&(i?ut(s,r)&&et(t,"set",n,s):et(t,"add",n,s)),a}deleteProperty(t,n){const s=te(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&et(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!pt(n)||!ho.has(n))&&Ce(t,"has",n),s}ownKeys(t){return Ce(t,"iterate",N(t)?"length":_t),Reflect.ownKeys(t)}}class _r extends go{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const yr=new mo,xr=new _r,Sr=new mo(!0);const Kn=e=>e,sn=e=>Reflect.getPrototypeOf(e);function Cr(e,t,n){return function(...s){const o=this.__v_raw,r=Q(o),i=Tt(r),a=e==="entries"||e===Symbol.iterator&&i,u=e==="keys"&&i,p=o[e](...s),f=n?Kn:t?zn:Te;return!t&&Ce(r,"iterate",u?Wn:_t),{next(){const{value:h,done:_}=p.next();return _?{value:h,done:_}:{value:a?[f(h[0]),f(h[1])]:f(h),done:_}},[Symbol.iterator](){return this}}}}function on(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Pr(e,t){const n={get(o){const r=this.__v_raw,i=Q(r),a=Q(o);e||(ut(o,a)&&Ce(i,"get",o),Ce(i,"get",a));const{has:u}=sn(i),p=t?Kn:e?zn:Te;if(u.call(i,o))return p(r.get(o));if(u.call(i,a))return p(r.get(a));r!==i&&r.get(o)},get size(){const o=this.__v_raw;return!e&&Ce(Q(o),"iterate",_t),o.size},has(o){const r=this.__v_raw,i=Q(r),a=Q(o);return e||(ut(o,a)&&Ce(i,"has",o),Ce(i,"has",a)),o===a?r.has(o):r.has(o)||r.has(a)},forEach(o,r){const i=this,a=i.__v_raw,u=Q(a),p=t?Kn:e?zn:Te;return!e&&Ce(u,"iterate",_t),a.forEach((f,h)=>o.call(r,p(f),p(h),i))}};return ke(n,e?{add:on("add"),set:on("set"),delete:on("delete"),clear:on("clear")}:{add(o){!t&&!Ne(o)&&!yt(o)&&(o=Q(o));const r=Q(this);return sn(r).has.call(r,o)||(r.add(o),et(r,"add",o,o)),this},set(o,r){!t&&!Ne(r)&&!yt(r)&&(r=Q(r));const i=Q(this),{has:a,get:u}=sn(i);let p=a.call(i,o);p||(o=Q(o),p=a.call(i,o));const f=u.call(i,o);return i.set(o,r),p?ut(r,f)&&et(i,"set",o,r):et(i,"add",o,r),this},delete(o){const r=Q(this),{has:i,get:a}=sn(r);let u=i.call(r,o);u||(o=Q(o),u=i.call(r,o)),a&&a.call(r,o);const p=r.delete(o);return u&&et(r,"delete",o,void 0),p},clear(){const o=Q(this),r=o.size!==0,i=o.clear();return r&&et(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Cr(o,e,t)}),n}function as(e,t){const n=Pr(e,t);return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(te(n,o)&&o in s?n:s,o,r)}const Er={get:as(!1,!1)},Mr={get:as(!1,!0)},Tr={get:as(!0,!1)};const vo=new WeakMap,bo=new WeakMap,wo=new WeakMap,Or=new WeakMap;function Ir(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kr(e){return e.__v_skip||!Object.isExtensible(e)?0:Ir(nr(e))}function cs(e){return yt(e)?e:us(e,!1,yr,Er,vo)}function Ar(e){return us(e,!1,Sr,Mr,bo)}function _o(e){return us(e,!0,xr,Tr,wo)}function us(e,t,n,s,o){if(!ue(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=kr(e);if(r===0)return e;const i=o.get(e);if(i)return i;const a=new Proxy(e,r===2?s:n);return o.set(e,a),a}function Nt(e){return yt(e)?Nt(e.__v_raw):!!(e&&e.__v_isReactive)}function yt(e){return!!(e&&e.__v_isReadonly)}function Ne(e){return!!(e&&e.__v_isShallow)}function fs(e){return e?!!e.__v_raw:!1}function Q(e){const t=e&&e.__v_raw;return t?Q(t):e}function Fr(e){return!te(e,"__v_skip")&&Object.isExtensible(e)&&to(e,"__v_skip",!0),e}const Te=e=>ue(e)?cs(e):e,zn=e=>ue(e)?_o(e):e;function _e(e){return e?e.__v_isRef===!0:!1}function L(e){return Rr(e,!1)}function Rr(e,t){return _e(e)?e:new $r(e,t)}class $r{constructor(t,n){this.dep=new is,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Q(t),this._value=n?t:Te(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Ne(t)||yt(t);t=s?t:Q(t),ut(t,n)&&(this._rawValue=t,this._value=s?t:Te(t),this.dep.trigger())}}function Lr(e){return _e(e)?e.value:e}const Dr={get:(e,t,n)=>t==="__v_raw"?e:Lr(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return _e(o)&&!_e(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function yo(e){return Nt(e)?e:new Proxy(e,Dr)}function jr(e){const t=N(e)?new Array(e.length):{};for(const n in e)t[n]=Br(e,n);return t}class Vr{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return gr(Q(this._object),this._key)}}function Br(e,t,n){const s=e[t];return _e(s)?s:new Vr(e,t,n)}class Nr{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new is(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&oe!==this)return lo(this,!0),!0}get value(){const t=this.dep.track();return uo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Hr(e,t,n=!1){let s,o;return U(e)?s=e:(s=e.get,o=e.set),new Nr(s,o,n)}const rn={},hn=new WeakMap;let vt;function Ur(e,t=!1,n=vt){if(n){let s=hn.get(n);s||hn.set(n,s=[]),s.push(e)}}function Wr(e,t,n=ne){const{immediate:s,deep:o,once:r,scheduler:i,augmentJob:a,call:u}=n,p=R=>o?R:Ne(R)||o===!1||o===0?tt(R,1):tt(R);let f,h,_,T,B=!1,A=!1;if(_e(e)?(h=()=>e.value,B=Ne(e)):Nt(e)?(h=()=>p(e),B=!0):N(e)?(A=!0,B=e.some(R=>Nt(R)||Ne(R)),h=()=>e.map(R=>{if(_e(R))return R.value;if(Nt(R))return p(R);if(U(R))return u?u(R,2):R()})):U(e)?t?h=u?()=>u(e,2):e:h=()=>{if(_){nt();try{_()}finally{st()}}const R=vt;vt=f;try{return u?u(e,3,[T]):e(T)}finally{vt=R}}:h=qe,t&&o){const R=h,ee=o===!0?1/0:o;h=()=>tt(R(),ee)}const re=dr(),W=()=>{f.stop(),re&&re.active&&ts(re.effects,f)};if(r&&t){const R=t;t=(...ee)=>{R(...ee),W()}}let G=A?new Array(e.length).fill(rn):rn;const z=R=>{if(!(!(f.flags&1)||!f.dirty&&!R))if(t){const ee=f.run();if(o||B||(A?ee.some((de,K)=>ut(de,G[K])):ut(ee,G))){_&&_();const de=vt;vt=f;try{const K=[ee,G===rn?void 0:A&&G[0]===rn?[]:G,T];G=ee,u?u(t,3,K):t(...K)}finally{vt=de}}}else f.run()};return a&&a(z),f=new ro(h),f.scheduler=i?()=>i(z,!1):z,T=R=>Ur(R,!1,f),_=f.onStop=()=>{const R=hn.get(f);if(R){if(u)u(R,4);else for(const ee of R)ee();hn.delete(f)}},t?s?z(!0):G=f.run():i?i(z.bind(null,!0),!0):f.run(),W.pause=f.pause.bind(f),W.resume=f.resume.bind(f),W.stop=W,W}function tt(e,t=1/0,n){if(t<=0||!ue(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,_e(e))tt(e.value,t,n);else if(N(e))for(let s=0;s<e.length;s++)tt(e[s],t,n);else if(Xs(e)||Tt(e))e.forEach(s=>{tt(s,t,n)});else if(eo(e)){for(const s in e)tt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&tt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function tn(e,t,n,s){try{return s?e(...s):e()}catch(o){Mn(o,t,n)}}function Ye(e,t,n,s){if(U(e)){const o=tn(e,t,n,s);return o&&Zs(o)&&o.catch(r=>{Mn(r,t,n)}),o}if(N(e)){const o=[];for(let r=0;r<e.length;r++)o.push(Ye(e[r],t,n,s));return o}}function Mn(e,t,n,s=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||ne;if(t){let a=t.parent;const u=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const f=a.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](e,u,p)===!1)return}a=a.parent}if(r){nt(),tn(r,null,10,[e,u,p]),st();return}}Kr(e,n,o,s,i)}function Kr(e,t,n,s=!0,o=!1){if(o)throw e;console.error(e)}const Oe=[];let We=-1;const Ot=[];let lt=null,Pt=0;const xo=Promise.resolve();let gn=null;function Ht(e){const t=gn||xo;return e?t.then(this?e.bind(this):e):t}function zr(e){let t=We+1,n=Oe.length;for(;t<n;){const s=t+n>>>1,o=Oe[s],r=Gt(o);r<e||r===e&&o.flags&2?t=s+1:n=s}return t}function ds(e){if(!(e.flags&1)){const t=Gt(e),n=Oe[Oe.length-1];!n||!(e.flags&2)&&t>=Gt(n)?Oe.push(e):Oe.splice(zr(t),0,e),e.flags|=1,So()}}function So(){gn||(gn=xo.then(Po))}function qr(e){N(e)?Ot.push(...e):lt&&e.id===-1?lt.splice(Pt+1,0,e):e.flags&1||(Ot.push(e),e.flags|=1),So()}function ys(e,t,n=We+1){for(;n<Oe.length;n++){const s=Oe[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Oe.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Co(e){if(Ot.length){const t=[...new Set(Ot)].sort((n,s)=>Gt(n)-Gt(s));if(Ot.length=0,lt){lt.push(...t);return}for(lt=t,Pt=0;Pt<lt.length;Pt++){const n=lt[Pt];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}lt=null,Pt=0}}const Gt=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Po(e){try{for(We=0;We<Oe.length;We++){const t=Oe[We];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),tn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;We<Oe.length;We++){const t=Oe[We];t&&(t.flags&=-2)}We=-1,Oe.length=0,Co(),gn=null,(Oe.length||Ot.length)&&Po()}}let $e=null,Eo=null;function mn(e){const t=$e;return $e=e,Eo=e&&e.type.__scopeId||null,t}function Yr(e,t=$e,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&As(-1);const r=mn(t);let i;try{i=e(...o)}finally{mn(r),s._d&&As(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function at(e,t){if($e===null)return e;const n=kn($e),s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,a,u=ne]=t[o];r&&(U(r)&&(r={mounted:r,updated:r}),r.deep&&tt(i),s.push({dir:r,instance:n,value:i,oldValue:void 0,arg:a,modifiers:u}))}return e}function gt(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const a=o[i];r&&(a.oldValue=r[i].value);let u=a.dir[s];u&&(nt(),Ye(u,n,8,[e.el,a,e,t]),st())}}const Gr=Symbol("_vte"),Jr=e=>e.__isTeleport,Xr=Symbol("_leaveCb");function ps(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ps(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Mo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const vn=new WeakMap;function Ut(e,t,n,s,o=!1){if(N(e)){e.forEach((B,A)=>Ut(B,t&&(N(t)?t[A]:t),n,s,o));return}if(Wt(s)&&!o){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Ut(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?kn(s.component):s.el,i=o?null:r,{i:a,r:u}=e,p=t&&t.r,f=a.refs===ne?a.refs={}:a.refs,h=a.setupState,_=Q(h),T=h===ne?Js:B=>te(_,B);if(p!=null&&p!==u){if(xs(t),me(p))f[p]=null,T(p)&&(h[p]=null);else if(_e(p)){p.value=null;const B=t;B.k&&(f[B.k]=null)}}if(U(u))tn(u,a,12,[i,f]);else{const B=me(u),A=_e(u);if(B||A){const re=()=>{if(e.f){const W=B?T(u)?h[u]:f[u]:u.value;if(o)N(W)&&ts(W,r);else if(N(W))W.includes(r)||W.push(r);else if(B)f[u]=[r],T(u)&&(h[u]=f[u]);else{const G=[r];u.value=G,e.k&&(f[e.k]=G)}}else B?(f[u]=i,T(u)&&(h[u]=i)):A&&(u.value=i,e.k&&(f[e.k]=i))};if(i){const W=()=>{re(),vn.delete(e)};W.id=-1,vn.set(e,W),Re(W,n)}else xs(e),re()}}}function xs(e){const t=vn.get(e);t&&(t.flags|=8,vn.delete(e))}En().requestIdleCallback;En().cancelIdleCallback;const Wt=e=>!!e.type.__asyncLoader,To=e=>e.type.__isKeepAlive;function Zr(e,t){Oo(e,"a",t)}function Qr(e,t){Oo(e,"da",t)}function Oo(e,t,n=Pe){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Tn(t,s,n),n){let o=n.parent;for(;o&&o.parent;)To(o.parent.vnode)&&ei(s,t,n,o),o=o.parent}}function ei(e,t,n,s){const o=Tn(t,e,s,!0);Io(()=>{ts(s[t],o)},n)}function Tn(e,t,n=Pe,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{nt();const a=nn(n),u=Ye(t,n,e,i);return a(),st(),u});return s?o.unshift(r):o.push(r),r}}const ot=e=>(t,n=Pe)=>{(!Qt||e==="sp")&&Tn(e,(...s)=>t(...s),n)},ti=ot("bm"),Jt=ot("m"),ni=ot("bu"),si=ot("u"),bn=ot("bum"),Io=ot("um"),oi=ot("sp"),ri=ot("rtg"),ii=ot("rtc");function li(e,t=Pe){Tn("ec",e,t)}const ai="components";function Ct(e,t){return ui(ai,e,!0,t)||e}const ci=Symbol.for("v-ndc");function ui(e,t,n=!0,s=!1){const o=$e||Pe;if(o){const r=o.type;{const a=Qi(r,!1);if(a&&(a===t||a===je(t)||a===Pn(je(t))))return r}const i=Ss(o[e]||r[e],t)||Ss(o.appContext[e],t);return!i&&s?r:i}}function Ss(e,t){return e&&(e[t]||e[je(t)]||e[Pn(je(t))])}const qn=e=>e?Xo(e)?kn(e):qn(e.parent):null,Kt=ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>qn(e.parent),$root:e=>qn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ao(e),$forceUpdate:e=>e.f||(e.f=()=>{ds(e.update)}),$nextTick:e=>e.n||(e.n=Ht.bind(e.proxy)),$watch:e=>Ai.bind(e)}),Dn=(e,t)=>e!==ne&&!e.__isScriptSetup&&te(e,t),fi={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:a,appContext:u}=e;let p;if(t[0]!=="$"){const T=i[t];if(T!==void 0)switch(T){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(Dn(s,t))return i[t]=1,s[t];if(o!==ne&&te(o,t))return i[t]=2,o[t];if((p=e.propsOptions[0])&&te(p,t))return i[t]=3,r[t];if(n!==ne&&te(n,t))return i[t]=4,n[t];Yn&&(i[t]=0)}}const f=Kt[t];let h,_;if(f)return t==="$attrs"&&Ce(e.attrs,"get",""),f(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==ne&&te(n,t))return i[t]=4,n[t];if(_=u.config.globalProperties,te(_,t))return _[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return Dn(o,t)?(o[t]=n,!0):s!==ne&&te(s,t)?(s[t]=n,!0):te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r,type:i}},a){let u,p;return!!(n[a]||e!==ne&&a[0]!=="$"&&te(e,a)||Dn(t,a)||(u=r[0])&&te(u,a)||te(s,a)||te(Kt,a)||te(o.config.globalProperties,a)||(p=i.__cssModules)&&p[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:te(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Cs(e){return N(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Yn=!0;function di(e){const t=Ao(e),n=e.proxy,s=e.ctx;Yn=!1,t.beforeCreate&&Ps(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:a,provide:u,inject:p,created:f,beforeMount:h,mounted:_,beforeUpdate:T,updated:B,activated:A,deactivated:re,beforeDestroy:W,beforeUnmount:G,destroyed:z,unmounted:R,render:ee,renderTracked:de,renderTriggered:K,errorCaptured:se,serverPrefetch:ve,expose:ye,inheritAttrs:Ee,components:xe,directives:He,filters:Ge}=t;if(p&&pi(p,s,null),i)for(const S in i){const $=i[S];U($)&&(s[S]=$.bind(n))}if(o){const S=o.call(n,n);ue(S)&&(e.data=cs(S))}if(Yn=!0,r)for(const S in r){const $=r[S],Z=U($)?$.bind(n,n):U($.get)?$.get.bind(n,n):qe,be=!U($)&&U($.set)?$.set.bind(n):qe,j=ze({get:Z,set:be});Object.defineProperty(s,S,{enumerable:!0,configurable:!0,get:()=>j.value,set:le=>j.value=le})}if(a)for(const S in a)ko(a[S],s,n,S);if(u){const S=U(u)?u.call(n):u;Reflect.ownKeys(S).forEach($=>{wi($,S[$])})}f&&Ps(f,e,"c");function ie(S,$){N($)?$.forEach(Z=>S(Z.bind(n))):$&&S($.bind(n))}if(ie(ti,h),ie(Jt,_),ie(ni,T),ie(si,B),ie(Zr,A),ie(Qr,re),ie(li,se),ie(ii,de),ie(ri,K),ie(bn,G),ie(Io,R),ie(oi,ve),N(ye))if(ye.length){const S=e.exposed||(e.exposed={});ye.forEach($=>{Object.defineProperty(S,$,{get:()=>n[$],set:Z=>n[$]=Z,enumerable:!0})})}else e.exposed||(e.exposed={});ee&&e.render===qe&&(e.render=ee),Ee!=null&&(e.inheritAttrs=Ee),xe&&(e.components=xe),He&&(e.directives=He),ve&&Mo(e)}function pi(e,t,n=qe){N(e)&&(e=Gn(e));for(const s in e){const o=e[s];let r;ue(o)?"default"in o?r=an(o.from||s,o.default,!0):r=an(o.from||s):r=an(o),_e(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[s]=r}}function Ps(e,t,n){Ye(N(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function ko(e,t,n,s){let o=s.includes(".")?Ko(n,s):()=>n[s];if(me(e)){const r=t[e];U(r)&&cn(o,r)}else if(U(e))cn(o,e.bind(n));else if(ue(e))if(N(e))e.forEach(r=>ko(r,t,n,s));else{const r=U(e.handler)?e.handler.bind(n):t[e.handler];U(r)&&cn(o,r,e)}}function Ao(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,a=r.get(t);let u;return a?u=a:!o.length&&!n&&!s?u=t:(u={},o.length&&o.forEach(p=>wn(u,p,i,!0)),wn(u,t,i)),ue(t)&&r.set(t,u),u}function wn(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&wn(e,r,n,!0),o&&o.forEach(i=>wn(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const a=hi[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const hi={data:Es,props:Ms,emits:Ms,methods:Lt,computed:Lt,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:Lt,directives:Lt,watch:mi,provide:Es,inject:gi};function Es(e,t){return t?e?function(){return ke(U(e)?e.call(this,this):e,U(t)?t.call(this,this):t)}:t:e}function gi(e,t){return Lt(Gn(e),Gn(t))}function Gn(e){if(N(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Me(e,t){return e?[...new Set([].concat(e,t))]:t}function Lt(e,t){return e?ke(Object.create(null),e,t):t}function Ms(e,t){return e?N(e)&&N(t)?[...new Set([...e,...t])]:ke(Object.create(null),Cs(e),Cs(t??{})):t}function mi(e,t){if(!e)return t;if(!t)return e;const n=ke(Object.create(null),e);for(const s in t)n[s]=Me(e[s],t[s]);return n}function Fo(){return{app:null,config:{isNativeTag:Js,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vi=0;function bi(e,t){return function(s,o=null){U(s)||(s=ke({},s)),o!=null&&!ue(o)&&(o=null);const r=Fo(),i=new WeakSet,a=[];let u=!1;const p=r.app={_uid:vi++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:tl,get config(){return r.config},set config(f){},use(f,...h){return i.has(f)||(f&&U(f.install)?(i.add(f),f.install(p,...h)):U(f)&&(i.add(f),f(p,...h))),p},mixin(f){return r.mixins.includes(f)||r.mixins.push(f),p},component(f,h){return h?(r.components[f]=h,p):r.components[f]},directive(f,h){return h?(r.directives[f]=h,p):r.directives[f]},mount(f,h,_){if(!u){const T=p._ceVNode||De(s,o);return T.appContext=r,_===!0?_="svg":_===!1&&(_=void 0),e(T,f,_),u=!0,p._container=f,f.__vue_app__=p,kn(T.component)}},onUnmount(f){a.push(f)},unmount(){u&&(Ye(a,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(f,h){return r.provides[f]=h,p},runWithContext(f){const h=It;It=p;try{return f()}finally{It=h}}};return p}}let It=null;function wi(e,t){if(Pe){let n=Pe.provides;const s=Pe.parent&&Pe.parent.provides;s===n&&(n=Pe.provides=Object.create(s)),n[e]=t}}function an(e,t,n=!1){const s=Yi();if(s||It){let o=It?It._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&U(t)?t.call(s&&s.proxy):t}}const Ro={},$o=()=>Object.create(Ro),Lo=e=>Object.getPrototypeOf(e)===Ro;function _i(e,t,n,s=!1){const o={},r=$o();e.propsDefaults=Object.create(null),Do(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=s?o:Ar(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function yi(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,a=Q(o),[u]=e.propsOptions;let p=!1;if((s||i>0)&&!(i&16)){if(i&8){const f=e.vnode.dynamicProps;for(let h=0;h<f.length;h++){let _=f[h];if(On(e.emitsOptions,_))continue;const T=t[_];if(u)if(te(r,_))T!==r[_]&&(r[_]=T,p=!0);else{const B=je(_);o[B]=Jn(u,a,B,T,e,!1)}else T!==r[_]&&(r[_]=T,p=!0)}}}else{Do(e,t,o,r)&&(p=!0);let f;for(const h in a)(!t||!te(t,h)&&((f=ht(h))===h||!te(t,f)))&&(u?n&&(n[h]!==void 0||n[f]!==void 0)&&(o[h]=Jn(u,a,h,void 0,e,!0)):delete o[h]);if(r!==a)for(const h in r)(!t||!te(t,h))&&(delete r[h],p=!0)}p&&et(e.attrs,"set","")}function Do(e,t,n,s){const[o,r]=e.propsOptions;let i=!1,a;if(t)for(let u in t){if(jt(u))continue;const p=t[u];let f;o&&te(o,f=je(u))?!r||!r.includes(f)?n[f]=p:(a||(a={}))[f]=p:On(e.emitsOptions,u)||(!(u in s)||p!==s[u])&&(s[u]=p,i=!0)}if(r){const u=Q(n),p=a||ne;for(let f=0;f<r.length;f++){const h=r[f];n[h]=Jn(o,u,h,p[h],e,!te(p,h))}}return i}function Jn(e,t,n,s,o,r){const i=e[n];if(i!=null){const a=te(i,"default");if(a&&s===void 0){const u=i.default;if(i.type!==Function&&!i.skipFactory&&U(u)){const{propsDefaults:p}=o;if(n in p)s=p[n];else{const f=nn(o);s=p[n]=u.call(null,t),f()}}else s=u;o.ce&&o.ce._setProp(n,s)}i[0]&&(r&&!a?s=!1:i[1]&&(s===""||s===ht(n))&&(s=!0))}return s}const xi=new WeakMap;function jo(e,t,n=!1){const s=n?xi:t.propsCache,o=s.get(e);if(o)return o;const r=e.props,i={},a=[];let u=!1;if(!U(e)){const f=h=>{u=!0;const[_,T]=jo(h,t,!0);ke(i,_),T&&a.push(...T)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!u)return ue(e)&&s.set(e,Mt),Mt;if(N(r))for(let f=0;f<r.length;f++){const h=je(r[f]);Ts(h)&&(i[h]=ne)}else if(r)for(const f in r){const h=je(f);if(Ts(h)){const _=r[f],T=i[h]=N(_)||U(_)?{type:_}:ke({},_),B=T.type;let A=!1,re=!0;if(N(B))for(let W=0;W<B.length;++W){const G=B[W],z=U(G)&&G.name;if(z==="Boolean"){A=!0;break}else z==="String"&&(re=!1)}else A=U(B)&&B.name==="Boolean";T[0]=A,T[1]=re,(A||te(T,"default"))&&a.push(h)}}const p=[i,a];return ue(e)&&s.set(e,p),p}function Ts(e){return e[0]!=="$"&&!jt(e)}const hs=e=>e==="_"||e==="_ctx"||e==="$stable",gs=e=>N(e)?e.map(Ke):[Ke(e)],Si=(e,t,n)=>{if(t._n)return t;const s=Yr((...o)=>gs(t(...o)),n);return s._c=!1,s},Vo=(e,t,n)=>{const s=e._ctx;for(const o in e){if(hs(o))continue;const r=e[o];if(U(r))t[o]=Si(o,r,s);else if(r!=null){const i=gs(r);t[o]=()=>i}}},Bo=(e,t)=>{const n=gs(t);e.slots.default=()=>n},No=(e,t,n)=>{for(const s in t)(n||!hs(s))&&(e[s]=t[s])},Ci=(e,t,n)=>{const s=e.slots=$o();if(e.vnode.shapeFlag&32){const o=t._;o?(No(s,t,n),n&&to(s,"_",o,!0)):Vo(t,s)}else t&&Bo(e,t)},Pi=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,i=ne;if(s.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:No(o,t,n):(r=!t.$stable,Vo(t,o)),i=t}else t&&(Bo(e,t),i={default:1});if(r)for(const a in o)!hs(a)&&i[a]==null&&delete o[a]},Re=Bi;function Ei(e){return Mi(e)}function Mi(e,t){const n=En();n.__VUE__=!0;const{insert:s,remove:o,patchProp:r,createElement:i,createText:a,createComment:u,setText:p,setElementText:f,parentNode:h,nextSibling:_,setScopeId:T=qe,insertStaticContent:B}=e,A=(l,c,d,m=null,v=null,b=null,y=void 0,P=null,x=!!c.dynamicChildren)=>{if(l===c)return;l&&!Rt(l,c)&&(m=M(l),le(l,v,b,!0),l=null),c.patchFlag===-2&&(x=!1,c.dynamicChildren=null);const{type:w,ref:I,shapeFlag:E}=c;switch(w){case In:re(l,c,d,m);break;case dt:W(l,c,d,m);break;case un:l==null&&G(c,d,m,y);break;case Qe:xe(l,c,d,m,v,b,y,P,x);break;default:E&1?ee(l,c,d,m,v,b,y,P,x):E&6?He(l,c,d,m,v,b,y,P,x):(E&64||E&128)&&w.process(l,c,d,m,v,b,y,P,x,O)}I!=null&&v?Ut(I,l&&l.ref,b,c||l,!c):I==null&&l&&l.ref!=null&&Ut(l.ref,null,b,l,!0)},re=(l,c,d,m)=>{if(l==null)s(c.el=a(c.children),d,m);else{const v=c.el=l.el;c.children!==l.children&&p(v,c.children)}},W=(l,c,d,m)=>{l==null?s(c.el=u(c.children||""),d,m):c.el=l.el},G=(l,c,d,m)=>{[l.el,l.anchor]=B(l.children,c,d,m,l.el,l.anchor)},z=({el:l,anchor:c},d,m)=>{let v;for(;l&&l!==c;)v=_(l),s(l,d,m),l=v;s(c,d,m)},R=({el:l,anchor:c})=>{let d;for(;l&&l!==c;)d=_(l),o(l),l=d;o(c)},ee=(l,c,d,m,v,b,y,P,x)=>{c.type==="svg"?y="svg":c.type==="math"&&(y="mathml"),l==null?de(c,d,m,v,b,y,P,x):ve(l,c,v,b,y,P,x)},de=(l,c,d,m,v,b,y,P)=>{let x,w;const{props:I,shapeFlag:E,transition:k,dirs:F}=l;if(x=l.el=i(l.type,b,I&&I.is,I),E&8?f(x,l.children):E&16&&se(l.children,x,null,m,v,jn(l,b),y,P),F&&gt(l,null,m,"created"),K(x,l,l.scopeId,y,m),I){for(const q in I)q!=="value"&&!jt(q)&&r(x,q,null,I[q],b,m);"value"in I&&r(x,"value",null,I.value,b),(w=I.onVnodeBeforeMount)&&Ue(w,m,l)}F&&gt(l,null,m,"beforeMount");const V=Ti(v,k);V&&k.beforeEnter(x),s(x,c,d),((w=I&&I.onVnodeMounted)||V||F)&&Re(()=>{w&&Ue(w,m,l),V&&k.enter(x),F&&gt(l,null,m,"mounted")},v)},K=(l,c,d,m,v)=>{if(d&&T(l,d),m)for(let b=0;b<m.length;b++)T(l,m[b]);if(v){let b=v.subTree;if(c===b||qo(b.type)&&(b.ssContent===c||b.ssFallback===c)){const y=v.vnode;K(l,y,y.scopeId,y.slotScopeIds,v.parent)}}},se=(l,c,d,m,v,b,y,P,x=0)=>{for(let w=x;w<l.length;w++){const I=l[w]=P?ct(l[w]):Ke(l[w]);A(null,I,c,d,m,v,b,y,P)}},ve=(l,c,d,m,v,b,y)=>{const P=c.el=l.el;let{patchFlag:x,dynamicChildren:w,dirs:I}=c;x|=l.patchFlag&16;const E=l.props||ne,k=c.props||ne;let F;if(d&&mt(d,!1),(F=k.onVnodeBeforeUpdate)&&Ue(F,d,c,l),I&&gt(c,l,d,"beforeUpdate"),d&&mt(d,!0),(E.innerHTML&&k.innerHTML==null||E.textContent&&k.textContent==null)&&f(P,""),w?ye(l.dynamicChildren,w,P,d,m,jn(c,v),b):y||$(l,c,P,null,d,m,jn(c,v),b,!1),x>0){if(x&16)Ee(P,E,k,d,v);else if(x&2&&E.class!==k.class&&r(P,"class",null,k.class,v),x&4&&r(P,"style",E.style,k.style,v),x&8){const V=c.dynamicProps;for(let q=0;q<V.length;q++){const J=V[q],pe=E[J],he=k[J];(he!==pe||J==="value")&&r(P,J,pe,he,v,d)}}x&1&&l.children!==c.children&&f(P,c.children)}else!y&&w==null&&Ee(P,E,k,d,v);((F=k.onVnodeUpdated)||I)&&Re(()=>{F&&Ue(F,d,c,l),I&&gt(c,l,d,"updated")},m)},ye=(l,c,d,m,v,b,y)=>{for(let P=0;P<c.length;P++){const x=l[P],w=c[P],I=x.el&&(x.type===Qe||!Rt(x,w)||x.shapeFlag&198)?h(x.el):d;A(x,w,I,null,m,v,b,y,!0)}},Ee=(l,c,d,m,v)=>{if(c!==d){if(c!==ne)for(const b in c)!jt(b)&&!(b in d)&&r(l,b,c[b],null,v,m);for(const b in d){if(jt(b))continue;const y=d[b],P=c[b];y!==P&&b!=="value"&&r(l,b,P,y,v,m)}"value"in d&&r(l,"value",c.value,d.value,v)}},xe=(l,c,d,m,v,b,y,P,x)=>{const w=c.el=l?l.el:a(""),I=c.anchor=l?l.anchor:a("");let{patchFlag:E,dynamicChildren:k,slotScopeIds:F}=c;F&&(P=P?P.concat(F):F),l==null?(s(w,d,m),s(I,d,m),se(c.children||[],d,I,v,b,y,P,x)):E>0&&E&64&&k&&l.dynamicChildren?(ye(l.dynamicChildren,k,d,v,b,y,P),(c.key!=null||v&&c===v.subTree)&&Ho(l,c,!0)):$(l,c,d,I,v,b,y,P,x)},He=(l,c,d,m,v,b,y,P,x)=>{c.slotScopeIds=P,l==null?c.shapeFlag&512?v.ctx.activate(c,d,m,y,x):Ge(c,d,m,v,b,y,x):Je(l,c,x)},Ge=(l,c,d,m,v,b,y)=>{const P=l.component=qi(l,m,v);if(To(l)&&(P.ctx.renderer=O),Gi(P,!1,y),P.asyncDep){if(v&&v.registerDep(P,ie,y),!l.el){const x=P.subTree=De(dt);W(null,x,c,d),l.placeholder=x.el}}else ie(P,l,c,d,v,b,y)},Je=(l,c,d)=>{const m=c.component=l.component;if(ji(l,c,d))if(m.asyncDep&&!m.asyncResolved){S(m,c,d);return}else m.next=c,m.update();else c.el=l.el,m.vnode=c},ie=(l,c,d,m,v,b,y)=>{const P=()=>{if(l.isMounted){let{next:E,bu:k,u:F,parent:V,vnode:q}=l;{const ce=Uo(l);if(ce){E&&(E.el=q.el,S(l,E,y)),ce.asyncDep.then(()=>{l.isUnmounted||P()});return}}let J=E,pe;mt(l,!1),E?(E.el=q.el,S(l,E,y)):E=q,k&&ln(k),(pe=E.props&&E.props.onVnodeBeforeUpdate)&&Ue(pe,V,E,q),mt(l,!0);const he=Is(l),Y=l.subTree;l.subTree=he,A(Y,he,h(Y.el),M(Y),l,v,b),E.el=he.el,J===null&&Vi(l,he.el),F&&Re(F,v),(pe=E.props&&E.props.onVnodeUpdated)&&Re(()=>Ue(pe,V,E,q),v)}else{let E;const{el:k,props:F}=c,{bm:V,m:q,parent:J,root:pe,type:he}=l,Y=Wt(c);mt(l,!1),V&&ln(V),!Y&&(E=F&&F.onVnodeBeforeMount)&&Ue(E,J,c),mt(l,!0);{pe.ce&&pe.ce._def.shadowRoot!==!1&&pe.ce._injectChildStyle(he);const ce=l.subTree=Is(l);A(null,ce,d,m,l,v,b),c.el=ce.el}if(q&&Re(q,v),!Y&&(E=F&&F.onVnodeMounted)){const ce=c;Re(()=>Ue(E,J,ce),v)}(c.shapeFlag&256||J&&Wt(J.vnode)&&J.vnode.shapeFlag&256)&&l.a&&Re(l.a,v),l.isMounted=!0,c=d=m=null}};l.scope.on();const x=l.effect=new ro(P);l.scope.off();const w=l.update=x.run.bind(x),I=l.job=x.runIfDirty.bind(x);I.i=l,I.id=l.uid,x.scheduler=()=>ds(I),mt(l,!0),w()},S=(l,c,d)=>{c.component=l;const m=l.vnode.props;l.vnode=c,l.next=null,yi(l,c.props,m,d),Pi(l,c.children,d),nt(),ys(l),st()},$=(l,c,d,m,v,b,y,P,x=!1)=>{const w=l&&l.children,I=l?l.shapeFlag:0,E=c.children,{patchFlag:k,shapeFlag:F}=c;if(k>0){if(k&128){be(w,E,d,m,v,b,y,P,x);return}else if(k&256){Z(w,E,d,m,v,b,y,P,x);return}}F&8?(I&16&&C(w,v,b),E!==w&&f(d,E)):I&16?F&16?be(w,E,d,m,v,b,y,P,x):C(w,v,b,!0):(I&8&&f(d,""),F&16&&se(E,d,m,v,b,y,P,x))},Z=(l,c,d,m,v,b,y,P,x)=>{l=l||Mt,c=c||Mt;const w=l.length,I=c.length,E=Math.min(w,I);let k;for(k=0;k<E;k++){const F=c[k]=x?ct(c[k]):Ke(c[k]);A(l[k],F,d,null,v,b,y,P,x)}w>I?C(l,v,b,!0,!1,E):se(c,d,m,v,b,y,P,x,E)},be=(l,c,d,m,v,b,y,P,x)=>{let w=0;const I=c.length;let E=l.length-1,k=I-1;for(;w<=E&&w<=k;){const F=l[w],V=c[w]=x?ct(c[w]):Ke(c[w]);if(Rt(F,V))A(F,V,d,null,v,b,y,P,x);else break;w++}for(;w<=E&&w<=k;){const F=l[E],V=c[k]=x?ct(c[k]):Ke(c[k]);if(Rt(F,V))A(F,V,d,null,v,b,y,P,x);else break;E--,k--}if(w>E){if(w<=k){const F=k+1,V=F<I?c[F].el:m;for(;w<=k;)A(null,c[w]=x?ct(c[w]):Ke(c[w]),d,V,v,b,y,P,x),w++}}else if(w>k)for(;w<=E;)le(l[w],v,b,!0),w++;else{const F=w,V=w,q=new Map;for(w=V;w<=k;w++){const ae=c[w]=x?ct(c[w]):Ke(c[w]);ae.key!=null&&q.set(ae.key,w)}let J,pe=0;const he=k-V+1;let Y=!1,ce=0;const Fe=new Array(he);for(w=0;w<he;w++)Fe[w]=0;for(w=F;w<=E;w++){const ae=l[w];if(pe>=he){le(ae,v,b,!0);continue}let fe;if(ae.key!=null)fe=q.get(ae.key);else for(J=V;J<=k;J++)if(Fe[J-V]===0&&Rt(ae,c[J])){fe=J;break}fe===void 0?le(ae,v,b,!0):(Fe[fe-V]=w+1,fe>=ce?ce=fe:Y=!0,A(ae,c[fe],d,null,v,b,y,P,x),pe++)}const we=Y?Oi(Fe):Mt;for(J=we.length-1,w=he-1;w>=0;w--){const ae=V+w,fe=c[ae],it=c[ae+1],vs=ae+1<I?it.el||it.placeholder:m;Fe[w]===0?A(null,fe,d,vs,v,b,y,P,x):Y&&(J<0||w!==we[J]?j(fe,d,vs,2):J--)}}},j=(l,c,d,m,v=null)=>{const{el:b,type:y,transition:P,children:x,shapeFlag:w}=l;if(w&6){j(l.component.subTree,c,d,m);return}if(w&128){l.suspense.move(c,d,m);return}if(w&64){y.move(l,c,d,O);return}if(y===Qe){s(b,c,d);for(let E=0;E<x.length;E++)j(x[E],c,d,m);s(l.anchor,c,d);return}if(y===un){z(l,c,d);return}if(m!==2&&w&1&&P)if(m===0)P.beforeEnter(b),s(b,c,d),Re(()=>P.enter(b),v);else{const{leave:E,delayLeave:k,afterLeave:F}=P,V=()=>{l.ctx.isUnmounted?o(b):s(b,c,d)},q=()=>{b._isLeaving&&b[Xr](!0),E(b,()=>{V(),F&&F()})};k?k(b,V,q):q()}else s(b,c,d)},le=(l,c,d,m=!1,v=!1)=>{const{type:b,props:y,ref:P,children:x,dynamicChildren:w,shapeFlag:I,patchFlag:E,dirs:k,cacheIndex:F}=l;if(E===-2&&(v=!1),P!=null&&(nt(),Ut(P,null,d,l,!0),st()),F!=null&&(c.renderCache[F]=void 0),I&256){c.ctx.deactivate(l);return}const V=I&1&&k,q=!Wt(l);let J;if(q&&(J=y&&y.onVnodeBeforeUnmount)&&Ue(J,c,l),I&6)xt(l.component,d,m);else{if(I&128){l.suspense.unmount(d,m);return}V&&gt(l,null,c,"beforeUnmount"),I&64?l.type.remove(l,c,d,O,m):w&&!w.hasOnce&&(b!==Qe||E>0&&E&64)?C(w,c,d,!1,!0):(b===Qe&&E&384||!v&&I&16)&&C(x,c,d),m&&Ve(l)}(q&&(J=y&&y.onVnodeUnmounted)||V)&&Re(()=>{J&&Ue(J,c,l),V&&gt(l,null,c,"unmounted")},d)},Ve=l=>{const{type:c,el:d,anchor:m,transition:v}=l;if(c===Qe){At(d,m);return}if(c===un){R(l);return}const b=()=>{o(d),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(l.shapeFlag&1&&v&&!v.persisted){const{leave:y,delayLeave:P}=v,x=()=>y(d,b);P?P(l.el,b,x):x()}else b()},At=(l,c)=>{let d;for(;l!==c;)d=_(l),o(l),l=d;o(c)},xt=(l,c,d)=>{const{bum:m,scope:v,job:b,subTree:y,um:P,m:x,a:w}=l;Os(x),Os(w),m&&ln(m),v.stop(),b&&(b.flags|=8,le(y,l,c,d)),P&&Re(P,c),Re(()=>{l.isUnmounted=!0},c)},C=(l,c,d,m=!1,v=!1,b=0)=>{for(let y=b;y<l.length;y++)le(l[y],c,d,m,v)},M=l=>{if(l.shapeFlag&6)return M(l.component.subTree);if(l.shapeFlag&128)return l.suspense.next();const c=_(l.anchor||l.el),d=c&&c[Gr];return d?_(d):c};let D=!1;const H=(l,c,d)=>{l==null?c._vnode&&le(c._vnode,null,null,!0):A(c._vnode||null,l,c,null,null,null,d),c._vnode=l,D||(D=!0,ys(),Co(),D=!1)},O={p:A,um:le,m:j,r:Ve,mt:Ge,mc:se,pc:$,pbc:ye,n:M,o:e};return{render:H,hydrate:void 0,createApp:bi(H)}}function jn({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function mt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ti(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ho(e,t,n=!1){const s=e.children,o=t.children;if(N(s)&&N(o))for(let r=0;r<s.length;r++){const i=s[r];let a=o[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[r]=ct(o[r]),a.el=i.el),!n&&a.patchFlag!==-2&&Ho(i,a)),a.type===In&&a.patchFlag!==-1&&(a.el=i.el),a.type===dt&&!a.el&&(a.el=i.el)}}function Oi(e){const t=e.slice(),n=[0];let s,o,r,i,a;const u=e.length;for(s=0;s<u;s++){const p=e[s];if(p!==0){if(o=n[n.length-1],e[o]<p){t[s]=o,n.push(s);continue}for(r=0,i=n.length-1;r<i;)a=r+i>>1,e[n[a]]<p?r=a+1:i=a;p<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function Uo(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Uo(t)}function Os(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Ii=Symbol.for("v-scx"),ki=()=>an(Ii);function cn(e,t,n){return Wo(e,t,n)}function Wo(e,t,n=ne){const{immediate:s,deep:o,flush:r,once:i}=n,a=ke({},n),u=t&&s||!t&&r!=="post";let p;if(Qt){if(r==="sync"){const T=ki();p=T.__watcherHandles||(T.__watcherHandles=[])}else if(!u){const T=()=>{};return T.stop=qe,T.resume=qe,T.pause=qe,T}}const f=Pe;a.call=(T,B,A)=>Ye(T,f,B,A);let h=!1;r==="post"?a.scheduler=T=>{Re(T,f&&f.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(T,B)=>{B?T():ds(T)}),a.augmentJob=T=>{t&&(T.flags|=4),h&&(T.flags|=2,f&&(T.id=f.uid,T.i=f))};const _=Wr(e,t,a);return Qt&&(p?p.push(_):u&&_()),_}function Ai(e,t,n){const s=this.proxy,o=me(e)?e.includes(".")?Ko(s,e):()=>s[e]:e.bind(s,s);let r;U(t)?r=t:(r=t.handler,n=t);const i=nn(this),a=Wo(o,r.bind(s),n);return i(),a}function Ko(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}const Fi=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${je(t)}Modifiers`]||e[`${ht(t)}Modifiers`];function Ri(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ne;let o=n;const r=t.startsWith("update:"),i=r&&Fi(s,t.slice(7));i&&(i.trim&&(o=n.map(f=>me(f)?f.trim():f)),i.number&&(o=n.map(Hn)));let a,u=s[a=An(t)]||s[a=An(je(t))];!u&&r&&(u=s[a=An(ht(t))]),u&&Ye(u,e,6,o);const p=s[a+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ye(p,e,6,o)}}const $i=new WeakMap;function zo(e,t,n=!1){const s=n?$i:t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let i={},a=!1;if(!U(e)){const u=p=>{const f=zo(p,t,!0);f&&(a=!0,ke(i,f))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!r&&!a?(ue(e)&&s.set(e,null),null):(N(r)?r.forEach(u=>i[u]=null):ke(i,r),ue(e)&&s.set(e,i),i)}function On(e,t){return!e||!xn(t)?!1:(t=t.slice(2).replace(/Once$/,""),te(e,t[0].toLowerCase()+t.slice(1))||te(e,ht(t))||te(e,t))}function Is(e){const{type:t,vnode:n,proxy:s,withProxy:o,propsOptions:[r],slots:i,attrs:a,emit:u,render:p,renderCache:f,props:h,data:_,setupState:T,ctx:B,inheritAttrs:A}=e,re=mn(e);let W,G;try{if(n.shapeFlag&4){const R=o||s,ee=R;W=Ke(p.call(ee,R,f,h,T,_,B)),G=a}else{const R=t;W=Ke(R.length>1?R(h,{attrs:a,slots:i,emit:u}):R(h,null)),G=t.props?a:Li(a)}}catch(R){zt.length=0,Mn(R,e,1),W=De(dt)}let z=W;if(G&&A!==!1){const R=Object.keys(G),{shapeFlag:ee}=z;R.length&&ee&7&&(r&&R.some(es)&&(G=Di(G,r)),z=kt(z,G,!1,!0))}return n.dirs&&(z=kt(z,null,!1,!0),z.dirs=z.dirs?z.dirs.concat(n.dirs):n.dirs),n.transition&&ps(z,n.transition),W=z,mn(re),W}const Li=e=>{let t;for(const n in e)(n==="class"||n==="style"||xn(n))&&((t||(t={}))[n]=e[n]);return t},Di=(e,t)=>{const n={};for(const s in e)(!es(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function ji(e,t,n){const{props:s,children:o,component:r}=e,{props:i,children:a,patchFlag:u}=t,p=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?ks(s,i,p):!!i;if(u&8){const f=t.dynamicProps;for(let h=0;h<f.length;h++){const _=f[h];if(i[_]!==s[_]&&!On(p,_))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?ks(s,i,p):!0:!!i;return!1}function ks(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!On(n,r))return!0}return!1}function Vi({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const qo=e=>e.__isSuspense;function Bi(e,t){t&&t.pendingBranch?N(e)?t.effects.push(...e):t.effects.push(e):qr(e)}const Qe=Symbol.for("v-fgt"),In=Symbol.for("v-txt"),dt=Symbol.for("v-cmt"),un=Symbol.for("v-stc"),zt=[];let Le=null;function ge(e=!1){zt.push(Le=e?null:[])}function Ni(){zt.pop(),Le=zt[zt.length-1]||null}let Xt=1;function As(e,t=!1){Xt+=e,e<0&&Le&&t&&(Le.hasOnce=!0)}function Yo(e){return e.dynamicChildren=Xt>0?Le||Mt:null,Ni(),Xt>0&&Le&&Le.push(e),e}function Ie(e,t,n,s,o,r){return Yo(g(e,t,n,s,o,r,!0))}function Dt(e,t,n,s,o){return Yo(De(e,t,n,s,o,!0))}function Go(e){return e?e.__v_isVNode===!0:!1}function Rt(e,t){return e.type===t.type&&e.key===t.key}const Jo=({key:e})=>e??null,fn=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?me(e)||_e(e)||U(e)?{i:$e,r:e,k:t,f:!!n}:e:null);function g(e,t=null,n=null,s=0,o=null,r=e===Qe?0:1,i=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Jo(t),ref:t&&fn(t),scopeId:Eo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:$e};return a?(ms(u,n),r&128&&e.normalize(u)):n&&(u.shapeFlag|=me(n)?8:16),Xt>0&&!i&&Le&&(u.patchFlag>0||r&6)&&u.patchFlag!==32&&Le.push(u),u}const De=Hi;function Hi(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===ci)&&(e=dt),Go(e)){const a=kt(e,t,!0);return n&&ms(a,n),Xt>0&&!r&&Le&&(a.shapeFlag&6?Le[Le.indexOf(e)]=a:Le.push(a)),a.patchFlag=-2,a}if(el(e)&&(e=e.__vccOpts),t){t=Ui(t);let{class:a,style:u}=t;a&&!me(a)&&(t.class=en(a)),ue(u)&&(fs(u)&&!N(u)&&(u=ke({},u)),t.style=wt(u))}const i=me(e)?1:qo(e)?128:Jr(e)?64:ue(e)?4:U(e)?2:0;return g(e,t,n,s,o,i,r,!0)}function Ui(e){return e?fs(e)||Lo(e)?ke({},e):e:null}function kt(e,t,n=!1,s=!1){const{props:o,ref:r,patchFlag:i,children:a,transition:u}=e,p=t?Wi(o||{},t):o,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&Jo(p),ref:t&&t.ref?n&&r?N(r)?r.concat(fn(t)):[r,fn(t)]:fn(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Qe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&kt(e.ssContent),ssFallback:e.ssFallback&&kt(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&s&&ps(f,u.clone(f)),f}function Zt(e=" ",t=0){return De(In,null,e,t)}function Fs(e,t){const n=De(un,null,e);return n.staticCount=t,n}function ft(e="",t=!1){return t?(ge(),Dt(dt,null,e)):De(dt,null,e)}function Ke(e){return e==null||typeof e=="boolean"?De(dt):N(e)?De(Qe,null,e.slice()):Go(e)?ct(e):De(In,null,String(e))}function ct(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:kt(e)}function ms(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(N(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),ms(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!Lo(t)?t._ctx=$e:o===3&&$e&&($e.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else U(t)?(t={default:t,_ctx:$e},n=32):(t=String(t),s&64?(n=16,t=[Zt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Wi(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=en([t.class,s.class]));else if(o==="style")t.style=wt([t.style,s.style]);else if(xn(o)){const r=t[o],i=s[o];i&&r!==i&&!(N(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}function Ue(e,t,n,s=null){Ye(e,t,7,[n,s])}const Ki=Fo();let zi=0;function qi(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||Ki,r={uid:zi++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new fr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jo(s,o),emitsOptions:zo(s,o),emit:null,emitted:null,propsDefaults:ne,inheritAttrs:s.inheritAttrs,ctx:ne,data:ne,props:ne,attrs:ne,slots:ne,refs:ne,setupState:ne,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Ri.bind(null,r),e.ce&&e.ce(r),r}let Pe=null;const Yi=()=>Pe||$e;let _n,Xn;{const e=En(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};_n=t("__VUE_INSTANCE_SETTERS__",n=>Pe=n),Xn=t("__VUE_SSR_SETTERS__",n=>Qt=n)}const nn=e=>{const t=Pe;return _n(e),e.scope.on(),()=>{e.scope.off(),_n(t)}},Rs=()=>{Pe&&Pe.scope.off(),_n(null)};function Xo(e){return e.vnode.shapeFlag&4}let Qt=!1;function Gi(e,t=!1,n=!1){t&&Xn(t);const{props:s,children:o}=e.vnode,r=Xo(e);_i(e,s,r,t),Ci(e,o,n||t);const i=r?Ji(e,t):void 0;return t&&Xn(!1),i}function Ji(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,fi);const{setup:s}=n;if(s){nt();const o=e.setupContext=s.length>1?Zi(e):null,r=nn(e),i=tn(s,e,0,[e.props,o]),a=Zs(i);if(st(),r(),(a||e.sp)&&!Wt(e)&&Mo(e),a){if(i.then(Rs,Rs),t)return i.then(u=>{$s(e,u)}).catch(u=>{Mn(u,e,0)});e.asyncDep=i}else $s(e,i)}else Zo(e)}function $s(e,t,n){U(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ue(t)&&(e.setupState=yo(t)),Zo(e)}function Zo(e,t,n){const s=e.type;e.render||(e.render=s.render||qe);{const o=nn(e);nt();try{di(e)}finally{st(),o()}}}const Xi={get(e,t){return Ce(e,"get",""),e[t]}};function Zi(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Xi),slots:e.slots,emit:e.emit,expose:t}}function kn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(yo(Fr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Kt)return Kt[n](e)},has(t,n){return n in t||n in Kt}})):e.proxy}function Qi(e,t=!0){return U(e)?e.displayName||e.name:e.name||t&&e.__name}function el(e){return U(e)&&"__vccOpts"in e}const ze=(e,t)=>Hr(e,t,Qt),tl="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zn;const Ls=typeof window<"u"&&window.trustedTypes;if(Ls)try{Zn=Ls.createPolicy("vue",{createHTML:e=>e})}catch{}const Qo=Zn?e=>Zn.createHTML(e):e=>e,nl="http://www.w3.org/2000/svg",sl="http://www.w3.org/1998/Math/MathML",Ze=typeof document<"u"?document:null,Ds=Ze&&Ze.createElement("template"),ol={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?Ze.createElementNS(nl,e):t==="mathml"?Ze.createElementNS(sl,e):n?Ze.createElement(e,{is:n}):Ze.createElement(e);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>Ze.createTextNode(e),createComment:e=>Ze.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ze.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const i=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{Ds.innerHTML=Qo(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=Ds.content;if(s==="svg"||s==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},rl=Symbol("_vtc");function il(e,t,n){const s=e[rl];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const yn=Symbol("_vod"),er=Symbol("_vsh"),bt={name:"show",beforeMount(e,{value:t},{transition:n}){e[yn]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):$t(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),$t(e,!0),s.enter(e)):s.leave(e,()=>{$t(e,!1)}):$t(e,t))},beforeUnmount(e,{value:t}){$t(e,t)}};function $t(e,t){e.style.display=t?e[yn]:"none",e[er]=!t}const ll=Symbol(""),al=/(?:^|;)\s*display\s*:/;function cl(e,t,n){const s=e.style,o=me(n);let r=!1;if(n&&!o){if(t)if(me(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&dn(s,a,"")}else for(const i in t)n[i]==null&&dn(s,i,"");for(const i in n)i==="display"&&(r=!0),dn(s,i,n[i])}else if(o){if(t!==n){const i=s[ll];i&&(n+=";"+i),s.cssText=n,r=al.test(n)}}else t&&e.removeAttribute("style");yn in e&&(e[yn]=r?s.display:"",e[er]&&(s.display="none"))}const js=/\s*!important$/;function dn(e,t,n){if(N(n))n.forEach(s=>dn(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=ul(e,t);js.test(n)?e.setProperty(ht(s),n.replace(js,""),"important"):e[s]=n}}const Vs=["Webkit","Moz","ms"],Vn={};function ul(e,t){const n=Vn[t];if(n)return n;let s=je(t);if(s!=="filter"&&s in e)return Vn[t]=s;s=Pn(s);for(let o=0;o<Vs.length;o++){const r=Vs[o]+s;if(r in e)return Vn[t]=r}return t}const Bs="http://www.w3.org/1999/xlink";function Ns(e,t,n,s,o,r=ur(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Bs,t.slice(6,t.length)):e.setAttributeNS(Bs,t,n):n==null||r&&!no(n)?e.removeAttribute(t):e.setAttribute(t,r?"":pt(n)?String(n):n)}function Hs(e,t,n,s,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Qo(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=no(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(o||t)}function Et(e,t,n,s){e.addEventListener(t,n,s)}function fl(e,t,n,s){e.removeEventListener(t,n,s)}const Us=Symbol("_vei");function dl(e,t,n,s,o=null){const r=e[Us]||(e[Us]={}),i=r[t];if(s&&i)i.value=s;else{const[a,u]=pl(t);if(s){const p=r[t]=ml(s,o);Et(e,a,p,u)}else i&&(fl(e,a,i,u),r[t]=void 0)}}const Ws=/(?:Once|Passive|Capture)$/;function pl(e){let t;if(Ws.test(e)){t={};let s;for(;s=e.match(Ws);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ht(e.slice(2)),t]}let Bn=0;const hl=Promise.resolve(),gl=()=>Bn||(hl.then(()=>Bn=0),Bn=Date.now());function ml(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ye(vl(s,n.value),t,5,[s])};return n.value=e,n.attached=gl(),n}function vl(e,t){if(N(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const Ks=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,bl=(e,t,n,s,o,r)=>{const i=o==="svg";t==="class"?il(e,s,i):t==="style"?cl(e,n,s):xn(t)?es(t)||dl(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):wl(e,t,s,i))?(Hs(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ns(e,t,s,i,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!me(s))?Hs(e,je(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Ns(e,t,s,i))};function wl(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ks(t)&&U(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Ks(t)&&me(n)?!1:t in e}const zs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return N(t)?n=>ln(t,n):t};function _l(e){e.target.composing=!0}function qs(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Nn=Symbol("_assign"),yl={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[Nn]=zs(o);const r=s||o.props&&o.props.type==="number";Et(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=Hn(a)),e[Nn](a)}),n&&Et(e,"change",()=>{e.value=e.value.trim()}),t||(Et(e,"compositionstart",_l),Et(e,"compositionend",qs),Et(e,"change",qs))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:o,number:r}},i){if(e[Nn]=zs(i),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?Hn(e.value):e.value,u=t??"";a!==u&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||o&&e.value.trim()===u)||(e.value=u))}},xl={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Sl=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const r=ht(o.key);if(t.some(i=>i===r||xl[i]===r))return e(o)})},Cl=ke({patchProp:bl},ol);let Ys;function Pl(){return Ys||(Ys=Ei(Cl))}const El=(...e)=>{const t=Pl().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=Tl(s);if(!o)return;const r=t._component;!U(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=n(o,!1,Ml(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function Ml(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Tl(e){return me(e)?document.querySelector(e):e}const rt=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},Ol={name:"LandingPage",emits:["start-camera"],setup(e,{emit:t}){const n=L("");return{userName:n,startCamera:()=>{n.value.trim()&&t("start-camera",n.value.trim())}}}},Il={class:"landing-page min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-amber-900 relative overflow-hidden"},kl={class:"relative z-10 min-h-screen flex flex-col justify-center items-center px-6 py-12 text-center text-white"},Al={class:"mb-12"},Fl={class:"mb-8"},Rl={class:"w-64 mx-auto"},$l=["disabled"];function Ll(e,t,n,s,o,r){return ge(),Ie("div",Il,[t[9]||(t[9]=g("div",{class:"absolute inset-0 bg-black/20"},null,-1)),t[10]||(t[10]=g("div",{class:"absolute inset-0 flex items-center justify-center opacity-30"},[g("div",{class:"w-full h-full bg-gradient-to-t from-black/60 to-transparent"})],-1)),g("div",kl,[t[6]||(t[6]=g("div",{class:"mb-8"},[g("h1",{class:"text-4xl md:text-5xl font-bold mb-4 leading-tight"},[Zt(" 珍藏賞月中的"),g("br"),Zt("珍貴影像 ")])],-1)),g("div",Al,[t[4]||(t[4]=g("p",{class:"text-xl md:text-2xl mb-6 opacity-90"}," 月下共頻的畫面來自 ",-1)),g("div",Fl,[g("div",Rl,[at(g("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>s.userName=i),type:"text",placeholder:"車主名稱",class:"w-full px-2 py-3 text-lg text-center bg-transparent border-none text-white placeholder-gray-400 focus:outline-none focus:placeholder-gray-300 transition-all",onKeyup:t[1]||(t[1]=Sl((...i)=>s.startCamera&&s.startCamera(...i),["enter"]))},null,544),[[yl,s.userName]]),t[3]||(t[3]=g("div",{class:"h-px bg-gradient-to-r from-transparent via-white/50 to-transparent mt-2"},null,-1))])])]),t[7]||(t[7]=g("div",{class:"mb-12"},[g("p",{class:"text-lg md:text-xl mb-2 opacity-90"}," 為你的探月護照 "),g("p",{class:"text-lg md:text-xl opacity-90"}," 拍一張追月時的旅程照片 ")],-1)),g("button",{onClick:t[2]||(t[2]=(...i)=>s.startCamera&&s.startCamera(...i)),disabled:!s.userName.trim(),class:en(["px-16 py-3 text-base font-normal rounded-none flex items-center justify-center gap-2 min-w-[280px]",{"cursor-not-allowed":!s.userName.trim()}]),style:{"background-color":"#ffffff !important",color:"#000000 !important",border:"none !important",opacity:"1 !important"}},[...t[5]||(t[5]=[g("span",null,"開啟相機",-1),g("span",{class:"text-lg"},">",-1)])],10,$l),t[8]||(t[8]=g("div",{class:"mt-16"},null,-1))])])}const Dl=rt(Ol,[["render",Ll],["__scopeId","data-v-83bb82dc"]]),jl={name:"AppHeader",props:{status:{type:String,default:"尚未啟動"},mobileMenuOpen:{type:Boolean,default:!1}},emits:["toggle-menu"]},Vl={class:"flex items-center justify-between px-4 py-3 border-b border-app-border"},Bl={class:"flex items-center gap-3"},Nl={class:"text-app-muted text-sm"};function Hl(e,t,n,s,o,r){return ge(),Ie("header",Vl,[t[1]||(t[1]=g("h1",{class:"text-base font-medium m-0"}," Range Rover 月相節 - MediaPipe ver:1.4 (Vue.js版本) ",-1)),g("div",Bl,[g("button",{onClick:t[0]||(t[0]=i=>e.$emit("toggle-menu")),class:"lg:hidden inline-flex items-center justify-center px-3 py-2 rounded-lg border border-app-button-border bg-app-button text-app-fg hover:bg-opacity-80 transition-all","aria-label":"切換側欄"}," ☰ "),g("span",Nl,Se(n.status),1)])])}const Ul=rt(jl,[["render",Hl]]),Wl={name:"ControlPanel",props:{cameraRunning:Boolean,segmentationEnabled:Boolean,showMask:Boolean,backgroundType:String,effectIntensity:Number,edgeFeather:Number,temporalSmooth:Number,threshold:Number,faceCount:Number,facesInArea:Number},emits:["start-camera","stop-camera","switch-camera","update-segmentation","update-show-mask","update-background-type","update-effect-intensity","update-edge-feather","update-temporal-smooth","update-threshold","test-mov-background"]},Kl={class:"p-4"},zl={class:"panel mb-5"},ql={class:"flex gap-2 mb-2"},Yl=["disabled"],Gl=["disabled"],Jl=["disabled"],Xl={class:"panel mb-5"},Zl={class:"space-y-2"},Ql={class:"flex items-center gap-2 cursor-pointer"},ea=["checked"],ta={class:"flex items-center gap-2 cursor-pointer"},na=["checked"],sa={class:"flex items-center justify-between gap-2"},oa={class:"flex items-center gap-2"},ra=["value"],ia={class:"text-xs text-app-muted min-w-[3rem]"},la={class:"flex items-center justify-between gap-2"},aa={class:"flex items-center gap-2"},ca=["value"],ua={class:"text-xs text-app-muted min-w-[3rem]"},fa={class:"flex items-center justify-between gap-2"},da={class:"flex items-center gap-2"},pa=["value"],ha={class:"text-xs text-app-muted min-w-[3rem]"},ga={class:"panel mb-5"},ma=["value"],va={key:0,class:"space-y-2 mb-3 p-3 bg-app-surface rounded-lg"},ba={class:"flex items-center justify-between gap-2"},wa={class:"flex items-center gap-2"},_a=["value"],ya={class:"text-xs text-app-muted min-w-[3rem]"},xa={class:"panel mb-5"},Sa={class:"space-y-2"},Ca={class:"flex items-center justify-between"},Pa={class:"px-2 py-1 bg-app-surface border border-app-border rounded-full text-xs"},Ea={class:"flex items-center justify-between"},Ma={class:"px-2 py-1 bg-app-surface border border-app-border rounded-full text-xs"},Ta={class:"panel mb-5"};function Oa(e,t,n,s,o,r){return ge(),Ie("aside",Kl,[g("div",zl,[t[11]||(t[11]=g("h3",{class:"text-xs text-app-muted uppercase tracking-wider mb-2 font-medium"}," 啟動 / 鏡頭 ",-1)),g("div",ql,[g("button",{onClick:t[0]||(t[0]=i=>e.$emit("start-camera")),disabled:n.cameraRunning,class:"flex-1 px-3 py-2 text-sm rounded-lg border border-app-button-border bg-app-button text-app-fg disabled:opacity-40 disabled:cursor-not-allowed hover:bg-opacity-80 transition-all"},Se(n.cameraRunning?"運行中":"開始"),9,Yl),g("button",{onClick:t[1]||(t[1]=i=>e.$emit("stop-camera")),disabled:!n.cameraRunning,class:"flex-1 px-3 py-2 text-sm rounded-lg border border-app-button-border bg-app-button text-app-fg disabled:opacity-40 disabled:cursor-not-allowed hover:bg-opacity-80 transition-all"}," 停止 ",8,Gl)]),g("button",{onClick:t[2]||(t[2]=i=>e.$emit("switch-camera")),disabled:!n.cameraRunning,class:"w-full px-3 py-2 text-sm rounded-lg border border-app-button-border bg-app-button text-app-fg disabled:opacity-40 disabled:cursor-not-allowed hover:bg-opacity-80 transition-all"}," 切換前/後鏡頭 ",8,Jl),t[12]||(t[12]=g("div",{class:"text-xs text-app-muted mt-2"}," 若 GPU 不可用會自動回退至 CPU。 ",-1))]),g("div",Xl,[t[18]||(t[18]=g("h3",{class:"text-xs text-app-muted uppercase tracking-wider mb-2 font-medium"}," 分割設定 ",-1)),g("div",Zl,[g("label",Ql,[g("input",{type:"checkbox",checked:n.segmentationEnabled,onChange:t[3]||(t[3]=i=>e.$emit("update-segmentation",i.target.checked)),class:"rounded border-gray-600 bg-gray-700 text-app-accent"},null,40,ea),t[13]||(t[13]=g("span",{class:"text-sm"},"啟用去背",-1))]),g("label",ta,[g("input",{type:"checkbox",checked:n.showMask,onChange:t[4]||(t[4]=i=>e.$emit("update-show-mask",i.target.checked)),class:"rounded border-gray-600 bg-gray-700 text-app-accent"},null,40,na),t[14]||(t[14]=g("span",{class:"text-sm"},"顯示蒙版預覽",-1))]),g("div",sa,[t[15]||(t[15]=g("label",{class:"text-sm min-w-0"},"邊緣羽化",-1)),g("div",oa,[g("input",{type:"range",min:"0",max:"8",step:"1",value:n.edgeFeather,onInput:t[5]||(t[5]=i=>e.$emit("update-edge-feather",parseInt(i.target.value))),class:"w-32 lg:w-36"},null,40,ra),g("span",ia,Se(n.edgeFeather)+" px",1)])]),g("div",la,[t[16]||(t[16]=g("label",{class:"text-sm min-w-0"},"時間平滑",-1)),g("div",aa,[g("input",{type:"range",min:"0",max:"95",step:"1",value:Math.round(n.temporalSmooth*100),onInput:t[6]||(t[6]=i=>e.$emit("update-temporal-smooth",parseInt(i.target.value)/100)),class:"w-32 lg:w-36"},null,40,ca),g("span",ua,Se(n.temporalSmooth.toFixed(2)),1)])]),g("div",fa,[t[17]||(t[17]=g("label",{class:"text-sm min-w-0"},"閾值",-1)),g("div",da,[g("input",{type:"range",min:"0",max:"100",step:"1",value:Math.round(n.threshold*100),onInput:t[7]||(t[7]=i=>e.$emit("update-threshold",parseInt(i.target.value)/100)),class:"w-32 lg:w-36"},null,40,pa),g("span",ha,Se(n.threshold.toFixed(2)),1)])])])]),g("div",ga,[t[22]||(t[22]=g("h3",{class:"text-xs text-app-muted uppercase tracking-wider mb-2 font-medium"}," 背景 ",-1)),g("select",{value:n.backgroundType,onChange:t[8]||(t[8]=i=>e.$emit("update-background-type",i.target.value)),class:"w-full px-3 py-2 rounded-lg border border-app-button-border bg-app-button text-app-fg mb-2"},[...t[19]||(t[19]=[Fs('<option value="original">原始</option><option value="waves">波紋</option><option value="frequency">頻率條</option><option value="video">影片（MP4/WebM）</option><option value="moon_video">月相影片 🌙</option><option value="custom_moon_bg">自定義背景 + 圓形月亮 ✨</option>',6)])],40,ma),t[23]||(t[23]=g("div",{class:"text-xs text-app-muted mb-3"}," 背景來源：MP4 影片 / 月相影片（8秒動態錄製）/ 自定義背景+圓形月亮合成 ",-1)),n.backgroundType==="moon_video"?(ge(),Ie("div",va,[...t[20]||(t[20]=[Fs('<div class="text-sm font-medium">影片格式:</div><div class="flex gap-3"><label class="flex items-center gap-1 cursor-pointer"><input type="radio" name="videoFormat" value="mp4" checked class="text-app-accent"><span class="text-sm">MP4 (推薦)</span></label><label class="flex items-center gap-1 cursor-pointer"><input type="radio" name="videoFormat" value="webm" class="text-app-accent"><span class="text-sm">WebM</span></label></div><div class="text-xs text-app-accent"> MP4：相容性佳，檔案較大｜WebM：檔案較小，部分裝置不支援 </div>',3)])])):ft("",!0),g("div",ba,[t[21]||(t[21]=g("label",{class:"text-sm min-w-0"},"特效強度",-1)),g("div",wa,[g("input",{type:"range",min:"0",max:"100",value:Math.round(n.effectIntensity*100),onInput:t[9]||(t[9]=i=>e.$emit("update-effect-intensity",parseInt(i.target.value)/100)),class:"w-32 lg:w-36"},null,40,_a),g("span",ya,Se(Math.round(n.effectIntensity*100))+"%",1)])])]),g("div",xa,[t[26]||(t[26]=g("h3",{class:"text-xs text-app-muted uppercase tracking-wider mb-2 font-medium"}," 統計 ",-1)),g("div",Sa,[g("div",Ca,[t[24]||(t[24]=g("span",{class:"text-sm text-app-muted"},"偵測人臉：",-1)),g("span",Pa,Se(n.faceCount),1)]),g("div",Ea,[t[25]||(t[25]=g("span",{class:"text-sm text-app-muted"},"區域內人臉：",-1)),g("span",Ma,Se(n.facesInArea),1)])])]),g("div",Ta,[t[27]||(t[27]=g("h3",{class:"text-xs text-app-muted uppercase tracking-wider mb-2 font-medium"}," 測試功能 ",-1)),g("button",{onClick:t[10]||(t[10]=i=>e.$emit("test-mov-background")),class:"w-full px-3 py-2 text-sm rounded-lg border border-app-button-border bg-red-600 text-white hover:bg-red-700 transition-all"}," 🧪 測試 MOV 背景 + 人像去背 ")]),t[28]||(t[28]=g("div",{class:"panel"},[g("h3",{class:"text-xs text-app-muted uppercase tracking-wider mb-2 font-medium"}," 快捷鍵 "),g("div",{class:"text-xs text-app-muted"}," 空白鍵：開始/停止 · C：切換鏡頭 · P：拍照 ")],-1))])}const Ia=rt(Wl,[["render",Oa]]),ka={name:"CameraStage",props:{backgroundType:{type:String,default:""},isIOSDevice:{type:Boolean,default:!1},showControls:{type:Boolean,default:!0}},emits:["capture-photo","share-video","download-video"],setup(e){const{showControls:t}=jr(e),n=L(null),s=L(null),o=L(null),r=L(null),i=L(null),a=L(!1),u=L(!1),p=L(!0),f=L(!0),h=ze(()=>"/range_rover_moon_fastival_public/");return Jt(()=>{if(setTimeout(()=>{f.value=!1,setTimeout(()=>{p.value=!1},500)},1e4),i.value){const _="/range_rover_moon_fastival_public/";i.value.src=_+"moon_alpha_ios.mov",console.log("🎬 CameraStage moonVideo 設置完成:",{src:i.value.src,element:i.value,isVisible:getComputedStyle(i.value).display!=="none"})}}),{stage:n,bgCanvas:s,maskCanvas:o,outputCanvas:r,moonVideo:i,showShareButton:a,showDownloadButton:u,showHintText:p,hintVisible:f,basePath:h,backgroundType:e.backgroundType,isIOSDevice:e.isIOSDevice,showControls:t}}},Aa={ref:"stage",class:"stage fixed inset-0 bg-gray-900 overflow-hidden w-[100dvw] h-[100dvh]",style:{width:"100dvw",height:"100dvh"}},Fa={ref:"bgCanvas",class:"bg_canvas absolute inset-0 block w-full h-full z-[5]"},Ra={ref:"maskCanvas",class:"mask_canvas absolute inset-0 block w-full h-full z-[10]"},$a={class:"absolute inset-0 pointer-events-none z-[10]"},La={ref:"moonVideo",class:"w-full h-full object-contain force-composite",autoplay:"",loop:"",muted:"",playsinline:"","webkit-playsinline":"",style:{"pointer-events":"none",background:"transparent"}},Da={ref:"outputCanvas",class:"output_canvas absolute inset-0 block w-full h-full z-[100]"},ja=["src"],Va={class:"absolute right-4 bottom-8 z-[110] flex flex-col gap-2"};function Ba(e,t,n,s,o,r){return ge(),Ie("section",Aa,[g("canvas",Fa,null,512),g("canvas",Ra,null,512),g("div",$a,[at(g("video",La,null,512),[[bt,s.isIOSDevice&&["moon_video","custom_moon_bg","person_overlay"].includes(s.backgroundType)]])]),g("canvas",Da,null,512),at(g("button",{onClick:t[0]||(t[0]=i=>e.$emit("capture-photo")),class:"absolute bottom-12 left-1/2 -translate-x-1/2 z-[110] w-20 h-20 flex items-center justify-center"},[g("img",{src:s.basePath+"shutter.png",alt:"拍照",class:"w-26 h-26"},null,8,ja)],512),[[bt,s.showControls]]),at(g("div",{class:en(["absolute bottom-4 left-1/2 -translate-x-1/2 z-[110] text-white text-sm text-center transition-opacity duration-500",{"opacity-0":!s.hintVisible}])}," 對準臉部拍照可解鎖彩蛋 ",2),[[bt,s.showControls&&s.showHintText]]),at(g("div",Va,[at(g("button",{onClick:t[1]||(t[1]=i=>e.$emit("share-video")),class:"px-3 py-2 rounded-xl border border-app-button-border bg-app-button text-app-fg hover:bg-opacity-80 transition-all text-sm"}," 🔗 分享影片 ",512),[[bt,s.showShareButton]]),at(g("button",{onClick:t[2]||(t[2]=i=>e.$emit("download-video")),class:"px-3 py-2 rounded-xl border border-app-button-border bg-app-button text-app-fg hover:bg-opacity-80 transition-all text-sm"}," ⬇️ 下載影片 ",512),[[bt,s.showDownloadButton]])],512),[[bt,s.showControls]])],512)}const Na=rt(ka,[["render",Ba]]),Ha={name:"StatusBar",props:{status:{type:String,default:"Idle"}}},Ua={class:"flex items-center gap-4 px-4 py-3 border-t border-app-border min-h-[48px]"},Wa={class:"text-sm"};function Ka(e,t,n,s,o,r){return ge(),Ie("div",Ua,[g("span",Wa,[t[0]||(t[0]=Zt(" 狀態：",-1)),g("strong",null,Se(n.status),1)]),t[1]||(t[1]=g("span",{class:"text-sm"},[Zt(" 模式："),g("span",{class:"px-2 py-1 bg-app-surface border border-app-border rounded-full text-xs"},"VIDEO")],-1))])}const za=rt(Ha,[["render",Ka]]),qa={name:"LoadingModal",props:{message:{type:String,default:"載入中..."}}},Ya={class:"fixed inset-0 bg-app-bg bg-opacity-90 flex flex-col items-center justify-center z-[9999] backdrop-blur"},Ga={class:"text-app-fg text-center max-w-sm px-5"};function Ja(e,t,n,s,o,r){return ge(),Ie("div",Ya,[t[0]||(t[0]=g("div",{class:"animate-spin w-10 h-10 border-3 border-app-accent border-opacity-30 border-t-app-accent rounded-full mb-4"},null,-1)),g("div",Ga,Se(n.message),1)])}const Xa=rt(qa,[["render",Ja]]),Za={name:"ProgressModal",props:{progress:{type:Object,default:()=>({percent:0,current:0,total:8})},status:{type:String,default:"準備錄製..."},showControls:{type:Boolean,default:!1}},emits:["close","share","download"],setup(e){const t=ze(()=>{var s;return Math.round(((s=e.progress)==null?void 0:s.percent)||0)}),n=ze(()=>{var r,i;const s=((r=e.progress)==null?void 0:r.current)||0,o=((i=e.progress)==null?void 0:i.total)||8;return`${s.toFixed(1)}s / ${o.toFixed(1)}s`});return{progressPercent:t,progressTime:n}}},Qa={class:"fixed inset-0 flex items-center justify-center z-[10001] backdrop-blur-sm"},ec={class:"bg-app-bg bg-opacity-95 border-2 border-app-accent rounded-xl p-5 w-[min(92vw,420px)] text-center shadow-2xl"},tc={class:"mb-3"},nc={class:"bg-white bg-opacity-10 h-3 rounded-full overflow-hidden"},sc={class:"text-app-accent font-bold mt-2"},oc={class:"text-app-muted text-sm mt-1"},rc={class:"text-app-muted text-sm mb-4"},ic={class:"flex gap-2 justify-center"};function lc(e,t,n,s,o,r){return ge(),Ie("div",Qa,[g("div",ec,[t[3]||(t[3]=g("h3",{class:"text-lg text-app-accent font-medium mb-2"}," 🎬 錄製月相影片中 ",-1)),t[4]||(t[4]=g("div",{class:"text-sm text-app-muted mb-3"}," 靜止人物 + 動態月相背景 ",-1)),g("div",tc,[g("div",nc,[g("div",{class:"h-full bg-gradient-to-r from-app-accent to-yellow-600 transition-all duration-300",style:wt({width:s.progressPercent+"%"})},null,4)]),g("div",sc,Se(n.status),1),g("div",oc,Se(s.progressTime),1)]),g("div",rc,Se(n.showControls?"影片已生成：可直接分享或下載（建議先分享）":"影片生成後會顯示分享與下載按鈕"),1),g("div",ic,[n.showControls?(ge(),Ie("button",{key:0,onClick:t[0]||(t[0]=i=>e.$emit("download")),class:"px-3 py-2 rounded-lg border border-app-border bg-app-bg text-app-fg hover:bg-opacity-80 transition-all"}," ⬇ 下載 ")):ft("",!0),n.showControls?(ge(),Ie("button",{key:1,onClick:t[1]||(t[1]=i=>e.$emit("share")),class:"px-3 py-2 rounded-lg border border-app-border bg-app-accent text-app-bg hover:bg-opacity-80 transition-all"}," 🔗 分享 ")):ft("",!0),g("button",{onClick:t[2]||(t[2]=i=>e.$emit("close")),class:"px-3 py-2 rounded-lg border border-app-border bg-transparent text-app-muted hover:bg-opacity-80 transition-all"}," 關閉 ")])])])}const ac=rt(Za,[["render",lc]]),cc={name:"PhotoPreview",props:{originalImageData:{type:[String,Object],required:!0},availableBackgrounds:{type:Array,required:!0},selectedBackground:{type:String,required:!0},userName:{type:String,default:""}},emits:["close","background-change"],setup(e,{emit:t}){const n=L(null),s=L(null),o=L(null),r=L(null),i=L(null),a=L(null),u=L(null),p=L(!1),f=L(0),h=ze(()=>"/range_rover_moon_fastival_public/"),_=ze(()=>e.availableBackgrounds[f.value]||e.availableBackgrounds[0]),T=.06,B=.182,A=.695,re=.53,W=.695,G=18,z=L({w:0,h:0}),R=()=>{z.value.w=window.innerWidth||0,z.value.h=window.innerHeight||0};Jt(()=>{R(),window.addEventListener("resize",R)}),bn(()=>{window.removeEventListener("resize",R)});const ee=L(null),de=L({w:0,h:0}),K=C=>{const M=(C==null?void 0:C.target)||ee.value;M&&(de.value={w:M.naturalWidth||0,h:M.naturalHeight||0},R())},se=ze(()=>{const C=new Date,M=C.getFullYear(),D=String(C.getMonth()+1).padStart(2,"0"),H=String(C.getDate()).padStart(2,"0");return`${M}.${D}.${H}`}),ve=ze(()=>{var y;const C=(y=_.value)==null?void 0:y.contentArea;if(!C)return{};const M=_.value.moonScale||1,D=z.value.w,H=z.value.h,O=C.width*D,X=C.height*H,l=C.x*D,c=C.y*H,d=O*M,m=X*M,v=l-(d-O)/2,b=c-(m-X)/2;return{left:`${v}px`,top:`${b+H*T}px`,width:`${d}px`,height:`${m}px`}}),ye=ze(()=>{const C=z.value.w,M=z.value.h,D=de.value.w,H=de.value.h,O=Ve(C,M,D,H),X=O.x+O.w*B,l=O.y+O.h*A;return{position:"absolute",top:0,left:0,transform:`translate(${X}px, ${l}px)`,fontSize:`${G}px`,whiteSpace:"nowrap",textShadow:"0 1px 2px rgba(0,0,0,.6)"}}),Ee=ze(()=>{const C=z.value.w,M=z.value.h,D=de.value.w,H=de.value.h,O=Ve(C,M,D,H),X=O.x+O.w*re,l=O.y+O.h*W;return{position:"absolute",top:0,left:0,transform:`translate(${X}px, ${l}px)`,fontSize:`${G}px`,whiteSpace:"nowrap",textShadow:"0 1px 2px rgba(0,0,0,.6)"}}),xe=C=>{console.warn("框架圖片載入失敗:",C.target.src)},He=async()=>{f.value=(f.value+1)%e.availableBackgrounds.length,t("background-change",_.value.id),await Je()},Ge=async()=>{if(!n.value||!o.value||!r.value){console.error("Canvas 或影片元素未準備好");return}try{p.value=!0,await Je(),r.value.play()}catch(C){console.error("預覽初始化失敗:",C)}finally{p.value=!1}},Je=async()=>{var X;const C=n.value.getContext("2d"),M=o.value.getContext("2d"),D=window.innerWidth,H=window.innerHeight;if(n.value.width=o.value.width=D,n.value.height=o.value.height=H,console.log("📐 Canvas 尺寸設定:",D,"x",H),(X=_.value)!=null&&X.src)try{const l=new Image;l.src=h.value+_.value.src,await new Promise((c,d)=>{l.onload=c,l.onerror=d}),console.log("🖼️ 背景圖片載入成功:",_.value.src),C.drawImage(l,0,0,D,H)}catch(l){console.error("🖼️ 背景圖片載入失敗:",l),C.fillStyle="#1a1a1a",C.fillRect(0,0,D,H)}else C.fillStyle="#1a1a1a",C.fillRect(0,0,D,H);M.clearRect(0,0,D,H);let O=e.originalImageData;if(typeof O=="object"&&O.segmentedImageData?(O=O.segmentedImageData,console.log("🎭 使用去背後的人像數據")):typeof O=="object"&&O.originalImageData?(O=O.originalImageData,console.log("📷 使用原始人像數據")):typeof O=="string"&&console.log("📷 使用字符串格式的人像數據"),O)try{const l=new Image;l.src=O,await new Promise((V,q)=>{l.onload=V,l.onerror=q});const c=_.value.contentArea||{x:0,y:0,width:1,height:1},d=c.x*D,m=c.y*H,v=c.width*D,b=c.height*H,y=l.naturalWidth,P=l.naturalHeight,x=y/P,w=v/b;let I,E,k,F;x>w?(I=v,E=I/x,k=d,F=m+(b-E)/2):(E=b,I=E*x,k=d+(v-I)/2,F=m),console.log("🎭 人像繪製（等比例縮小，完整顯示）:",{contentArea:{contentX:d,contentY:m,contentWidth:v,contentHeight:b},draw:{drawX:k,drawY:F,drawWidth:I,drawHeight:E},scale:I/y,outputCanvasZIndex:getComputedStyle(o.value).zIndex}),M.globalCompositeOperation="source-over",M.drawImage(l,k,F,I,E),console.log("✅ PhotoPreview 人像已繪製到 outputCanvas（透明背景，月亮可透出）")}catch(l){console.error("🎭 人像圖片載入失敗:",l)}},ie=async()=>{var C,M,D,H;p.value=!0;try{const O=Math.round(window.innerWidth),X=Math.round(window.innerHeight),l=Math.min(window.devicePixelRatio||1,2),c=document.createElement("canvas");c.width=Math.round(O*l),c.height=Math.round(X*l);const d=c.getContext("2d");d.scale(l,l);const m=c.captureStream(30),v=Z(["video/mp4;codecs=h264","video/mp4","video/webm;codecs=vp9","video/webm;codecs=vp8","video/webm"]);if(!v)throw new Error("此瀏覽器不支援 MediaRecorder 錄製影片");const b=[],y=new MediaRecorder(m,{mimeType:v,videoBitsPerSecond:6e6});y.ondataavailable=we=>we.data&&we.data.size&&b.push(we.data);const P=new Promise(we=>{y.onstop=()=>{const ae=v.includes("mp4")?"video/mp4":"video/webm",fe=new Blob(b,{type:ae}),it=URL.createObjectURL(fe);we({blob:fe,url:it,mime:ae})}}),x=await j((C=_.value)!=null&&C.src?h.value+_.value.src:null);let w=e.originalImageData;typeof w=="object"&&(w!=null&&w.segmentedImageData)?w=w.segmentedImageData:typeof w=="object"&&(w!=null&&w.originalImageData)&&(w=w.originalImageData);const I=await j(w),E=await j((M=_.value)!=null&&M.frame?h.value+_.value.frame:null),k=r.value;await be(k);try{await k.play()}catch{}const F=((D=_.value)==null?void 0:D.contentArea)||{x:0,y:0,width:1,height:1},V={x:F.x*O,y:F.y*X,w:F.width*O,h:F.height*X},q=((H=_.value)==null?void 0:H.moonScale)||1,J=V.w,pe=V.h,he={w:J*q,h:pe*q,x:V.x-J*(q-1)/2,y:V.y-pe*(q-1)/2};he.y+=X*T,y.start(100);const Y=performance.now();xt(d,O,X,{bgImg:x,frameImg:E,personImg:I,moonVid:k,personRect:V,moonRect:he});const ce=()=>{const we=performance.now();xt(d,O,X,{bgImg:x,frameImg:E,personImg:I,moonVid:k,personRect:V,moonRect:he}),we-Y<5e3?requestAnimationFrame(ce):y.stop()};return requestAnimationFrame(ce),await P}catch(O){throw console.error("影片生成失敗：",O),O}finally{p.value=!1}},S=async()=>{try{const C=await ie(),M=document.createElement("a");M.download=`range_rover_preview_${Date.now()}${C.mime.includes("mp4")?".mp4":".webm"}`,M.href=C.url,M.click(),setTimeout(()=>{try{URL.revokeObjectURL(C.url)}catch{}},5e3)}catch(C){console.error("下載失敗：",C),alert("影片下載失敗，請重試")}},$=async()=>{var C;try{const M=await ie(),D=`range_rover_preview${M.mime.includes("mp4")?".mp4":".webm"}`,H=new File([M.blob],D,{type:M.mime});if(navigator.share&&((C=navigator.canShare)!=null&&C.call(navigator,{files:[H]})))await navigator.share({files:[H],title:"Range Rover 月圓節影片",text:"我的月圓節影片"});else{const O=document.createElement("a");O.href=M.url,O.download=D,O.click(),setTimeout(()=>{try{URL.revokeObjectURL(M.url)}catch{}},5e3)}}catch(M){console.error("分享失敗：",M),alert("無法分享，已改為下載影片");try{await S()}catch{}}},Z=C=>{for(const M of C)try{if(MediaRecorder.isTypeSupported(M))return M}catch{}return""},be=C=>new Promise(M=>{if(!C||C.readyState>=2)return M();const D=()=>{H(),M()},H=()=>{C.removeEventListener("loadeddata",D),C.removeEventListener("canplay",D)};C.addEventListener("loadeddata",D,{once:!0}),C.addEventListener("canplay",D,{once:!0})}),j=C=>new Promise(M=>{if(!C)return M(null);const D=new Image;D.crossOrigin="anonymous",D.onload=()=>M(D),D.onerror=()=>M(null),D.src=C}),le=(C,M,D,H,O,X,l,c)=>{const d=M.videoWidth||M.naturalWidth||O,m=M.videoHeight||M.naturalHeight||X;if(!d||!m)return;const v=Math.min(O/d,X/m),b=d*v,y=m*v,P=D+(O-b)/2,x=H+(X-y)/2;try{C.drawImage(M,0,0,d,m,P,x,b,y)}catch{}},Ve=(C,M,D,H)=>{if(!C||!M||!D||!H)return{x:0,y:0,w:C,h:M};const O=Math.max(C/D,M/H),X=D*O,l=H*O,c=(C-X)/2,d=(M-l)/2;return{x:c,y:d,w:X,h:l}},At=(C,M,D,H,O,X)=>{const l=M.naturalWidth||O,c=M.naturalHeight||X;if(!l||!c)return;const d=Math.max(O/l,X/c),m=l*d,v=c*d,b=D+(O-m)/2,y=H+(X-v)/2;try{C.drawImage(M,0,0,l,c,b,y,m,v)}catch{}},xt=(C,M,D,{bgImg:H,frameImg:O,personImg:X,moonVid:l,personRect:c,moonRect:d})=>{if(C.clearRect(0,0,M,D),H)try{C.drawImage(H,0,0,M,D)}catch{C.fillStyle="#1a1a1a",C.fillRect(0,0,M,D)}else C.fillStyle="#1a1a1a",C.fillRect(0,0,M,D);l&&l.readyState>=2&&le(C,l,d.x,d.y,d.w,d.h),X&&le(C,X,c.x,c.y,c.w,c.h),O&&At(C,O,0,0,M,D),C.font=`${G}px monospace`,C.fillStyle="#fff",C.textBaseline="top",C.textAlign="left",C.shadowColor="rgba(0,0,0,.6)",C.shadowBlur=2,C.shadowOffsetY=1;const m=Ve(M,D,(O==null?void 0:O.naturalWidth)||0,(O==null?void 0:O.naturalHeight)||0),v=m.x+m.w*B,b=m.y+m.h*A;C.fillText(se.value,v,b);const y=m.x+m.w*re,P=m.y+m.h*W;C.fillText(e.userName||"Guest",y,P),C.shadowColor="transparent",C.shadowBlur=0,C.shadowOffsetY=0};return Jt(()=>{Ht(()=>{u.value&&(u.value.src=h.value+"moon.mp4"),setTimeout(()=>{Ge()},100)})}),bn(()=>{r.value&&!r.value.paused&&r.value.pause()}),{bgCanvas:n,maskCanvas:s,outputCanvas:o,moonVideoEl:r,videoEl:i,bgVideoEl:a,bgMoonVideoEl:u,isProcessing:p,currentBackground:_,basePath:h,contentAreaStyle:ve,currentDate:se,dateTextStyle:ye,nameTextStyle:Ee,switchBackground:He,downloadPhoto:S,sharePhoto:$,handleFrameError:xe,handleFrameLoad:K,frameImgEl:ee}}},uc={class:"fixed inset-0 bg-gray-900 overflow-hidden w-full h-full z-50"},fc={ref:"bgCanvas",class:"bg_canvas absolute inset-0 block w-full h-full z-[5]"},dc={ref:"maskCanvas",class:"mask_canvas absolute inset-0 block w-full h-full z-[10]"},pc=["src"],hc=["src"],gc=["src"],mc=["src"],vc={ref:"outputCanvas",class:"output_canvas absolute inset-0 block w-full h-full z-[20]"},bc={class:"absolute inset-0 pointer-events-none z-[30]"},wc=["src"],_c={class:"absolute inset-0 pointer-events-none z-[35]"},yc={key:0,class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 z-30"},xc={class:"absolute bottom-6 left-6 right-6 flex justify-between items-center z-30"},Sc={class:"flex gap-4"},Cc={class:"hidden"},Pc={ref:"videoEl",class:"input_video",playsinline:""},Ec={ref:"bgVideoEl",class:"bg_video",playsinline:"",muted:"",loop:"",preload:"auto",src:"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4"},Mc={ref:"bgMoonVideoEl",class:"bg_video",muted:"",loop:"",preload:"auto",playsinline:"",style:{display:"none"}};function Tc(e,t,n,s,o,r){return ge(),Ie("section",uc,[g("canvas",fc,null,512),g("canvas",dc,null,512),g("div",{class:"absolute inset-0 pointer-events-none z-[15]",style:wt(s.contentAreaStyle)},[g("video",{ref:"moonVideoEl",class:"w-full h-full object-contain force-composite",src:s.basePath+"moon_alpha_ios.mov",autoplay:"",loop:"",muted:"",playsinline:"","webkit-playsinline":"",style:{"pointer-events":"none",background:"transparent",transform:"translateZ(0)",filter:"opacity(1)","backface-visibility":"hidden"}},[g("source",{src:s.basePath+"moon_alpha_ios.mov",type:"video/quicktime"},null,8,hc),g("source",{src:s.basePath+"moon.mp4",type:"video/mp4"},null,8,gc),g("source",{src:s.basePath+"moon.webm",type:"video/webm"},null,8,mc)],8,pc)],4),g("canvas",vc,null,512),g("div",bc,[s.currentBackground.frame?(ge(),Ie("img",{key:0,src:s.basePath+s.currentBackground.frame,ref:"frameImgEl",alt:"裝飾框架",class:"w-full h-full object-cover",style:{"pointer-events":"none"},onError:t[0]||(t[0]=(...i)=>s.handleFrameError&&s.handleFrameError(...i)),onLoad:t[1]||(t[1]=(...i)=>s.handleFrameLoad&&s.handleFrameLoad(...i))},null,40,wc)):ft("",!0)]),g("div",_c,[g("div",{class:"absolute text-white font-mono text-lg tracking-wider",style:wt(s.dateTextStyle)},Se(s.currentDate),5),g("div",{class:"absolute text-white font-mono text-lg tracking-wider",style:wt(s.nameTextStyle)},Se(n.userName||"Guest"),5)]),g("button",{onClick:t[2]||(t[2]=(...i)=>s.switchBackground&&s.switchBackground(...i)),class:"absolute top-6 right-6 w-12 h-12 bg-black bg-opacity-60 rounded-full flex items-center justify-center text-white text-xl hover:bg-opacity-80 transition-all z-30"}," 🖼️ "),s.isProcessing?(ge(),Ie("div",yc,[...t[6]||(t[6]=[g("div",{class:"text-white text-center"},[g("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),g("p",{class:"text-lg"},"合成中...")],-1)])])):ft("",!0),g("div",xc,[g("button",{onClick:t[3]||(t[3]=i=>e.$emit("close")),class:"w-12 h-12 bg-black bg-opacity-60 rounded-full flex items-center justify-center text-white hover:bg-opacity-80 transition-all"}," ← "),g("div",Sc,[g("button",{onClick:t[4]||(t[4]=(...i)=>s.downloadPhoto&&s.downloadPhoto(...i)),class:"w-12 h-12 bg-black bg-opacity-60 rounded-full flex items-center justify-center text-white hover:bg-opacity-80 transition-all"}," ⬇️ "),g("button",{onClick:t[5]||(t[5]=(...i)=>s.sharePhoto&&s.sharePhoto(...i)),class:"w-12 h-12 bg-black bg-opacity-60 rounded-full flex items-center justify-center text-white hover:bg-opacity-80 transition-all"}," 🔗 ")])]),g("div",Cc,[g("video",Pc,null,512),g("video",Ec,null,512),g("video",Mc,null,512)])])}const Oc=rt(cc,[["render",Tc]]),Ic="modulepreload",kc=function(e){return"/range_rover_moon_fastival_public/"+e},Gs={},Ac=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(n.map(u=>{if(u=kc(u),u in Gs)return;Gs[u]=!0;const p=u.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=p?"stylesheet":Ic,p||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),p)return new Promise((_,T)=>{h.addEventListener("load",_),h.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&r(a.reason);return t().catch(r)})};function Fc(e){const t=L(!1),n=L(!1),s=L(!1),o=L("custom_moon_bg"),r=L(.5),i=L(3),a=L(.6),u=L(.38);let p=null,f=null,h=null,_=!1;const T=L(0),B=L(0),A=L(!1),re=async S=>{var $;try{const Z=await Ac(()=>import("./segmentationCore-Wv8wG7x5.js"),[]);window.segmentationCore=Z;const be={onStatus:j=>{if(console.log("📡 收到狀態:",j),j==="TRIGGER_TEST_EFFECT"){console.log("🎯 觸發測試效果 - 呼叫 testMovBackground"),ie();return}if(j==="STOP_TEST_EFFECT"){n.value=!1,o.value="original",A.value&&(window.segmentationCore.setEnableSegmentation(!1),window.segmentationCore.setBackgroundType("original")),_&&h&&!h.paused?h.pause():p&&!p.paused&&p.pause(),e.detectionStatus.value="檢測中";return}e.statusText.value=j,e.detectionStatus.value=j},onStats:j=>{T.value=j.faceCount||0,B.value=j.facesInArea||0;const le=n.value,Ve=o.value;j.segmentationEnabled!==void 0&&(n.value=j.segmentationEnabled),j.backgroundType!==void 0&&(o.value=j.backgroundType),j.effectActive!==void 0&&(j.effectActive&&j.backgroundType==="moon_video"?e.detectionStatus.value="🌙 月相模式：已啟用":!j.effectActive&&j.backgroundType==="original"&&(e.detectionStatus.value="檢測中")),(n.value!==le||o.value!==Ve)&&console.log("📊 UI 狀態變化:",{faces:`${j.faceCount}/${j.facesInArea}`,segmentation:`${le}→${n.value}`,background:`${Ve}→${o.value}`,effectActive:j.effectActive})}};p=S.bgMoonVideoEl,f=S.iosMoonVideoEl,h=S.fullscreenMoonEl,_=S.isIOSDevice||!1,console.log("🔧 MediaPipe 初始化:",{hasNormalMoonVideo:!!p,hasIOSMoonVideo:!!f,hasFullscreenMoonVideo:!!h,fullscreenMoonElementType:($=h==null?void 0:h.constructor)==null?void 0:$.name,fullscreenMoonElementSrc:h==null?void 0:h.src,isIOSDevice:_}),await Z.initCore(S,be),A.value=!0,Z.setBackgroundType(o.value),n.value=!1,Z.setEnableSegmentation(!1),console.log("🚫 分割功能已禁用，進入預覽模式"),Z.setRecordingProgressCallback&&Z.setRecordingProgressCallback({updateProgress:(j,le)=>{e.recordingProgress.value={percent:le>0?j/le*100:0,current:j,total:le}},setStatus:j=>{e.progressStatus.value=j}}),console.log("MediaPipe core initialized"),p&&p.load(),f&&_&&(f.load(),console.log("🍎 iOS MOV 影片預載完成"))}catch(Z){console.error("Failed to load MediaPipe core:",Z),e.detectionStatus.value="核心載入失敗"}},W=async()=>{if(A.value){e.detectionStatus.value="啟動中...";try{await window.segmentationCore.start(),t.value=!0,e.detectionStatus.value="檢測中"}catch(S){console.error("Camera start failed:",S),e.detectionStatus.value="啟動失敗";let $="啟動失敗";S.name==="NotAllowedError"||S.message&&S.message.includes("Permission denied")?$="相機權限被拒絕，請在瀏覽器設定中允許相機使用權限，然後重新整理頁面":S.name==="NotFoundError"?$="找不到相機設備":S.name==="NotSupportedError"?$="瀏覽器不支援相機功能":S.message&&S.message.includes("MediaPipe")&&($="AI 模型載入失敗，請檢查網路連線"),alert($)}}},G=()=>{A.value&&(window.segmentationCore.stop(),t.value=!1,e.detectionStatus.value="已停止",e.statusText.value="Idle")},z=async()=>{if(!(!A.value||!t.value))try{await window.segmentationCore.switchCamera()}catch(S){console.warn("Switch camera failed:",S)}},R=S=>{n.value=S,A.value&&window.segmentationCore.setEnableSegmentation(S),S||(s.value=!1,ee(!1))},ee=S=>{s.value=S,A.value&&window.segmentationCore.setShowMaskPreview(S)},de=S=>{o.value=S,A.value&&window.segmentationCore.setBackgroundType(S),(S==="moon_video"||S==="custom_moon_bg")&&(p||f)&&(e.detectionStatus.value="載入月相影片...",_&&f?f.paused&&f.play().then(()=>{e.detectionStatus.value="🍎 iOS 透明月相影片已開始播放",setTimeout(()=>{e.detectionStatus.value="檢測中"},2e3)}).catch($=>{console.warn("iOS 月相影片播放失敗:",$),e.detectionStatus.value="iOS 月相影片播放失敗"}):p&&p.paused&&p.play().then(()=>{e.detectionStatus.value="月相影片已開始播放",setTimeout(()=>{e.detectionStatus.value="檢測中"},2e3)}).catch($=>{console.warn("月相影片播放失敗:",$),e.detectionStatus.value="月相影片播放失敗"}))},K=S=>{r.value=S,A.value&&window.segmentationCore.setBackgroundIntensity(S)},se=S=>{i.value=S,A.value&&window.segmentationCore.setEdgeFeather(S)},ve=S=>{a.value=S,A.value&&window.segmentationCore.setTemporalAlpha(S)},ye=S=>{u.value=S,A.value&&window.segmentationCore.setThreshold(S)},Ee=async()=>{var $;if(!A.value||!t.value){alert("請先啟動相機再拍照");return}const S=document.createElement("div");S.className="fixed inset-0 bg-white opacity-80 z-[9999] pointer-events-none animate-photo-flash",document.body.appendChild(S),setTimeout(()=>document.body.removeChild(S),200);try{window.segmentationCore.setEnableSegmentation(!0),await new Promise(j=>setTimeout(j,200));const Z=await window.segmentationCore.captureOriginalFrame();let be=null;try{const j=document.querySelectorAll(".output_canvas");j.length>0&&(be=j[0].toDataURL("image/png"))}catch(j){console.warn("無法獲取分割後畫面，使用原始畫面:",j),be=Z}console.log("🔍 拍照數據檢查:",{hasOriginal:!!Z,hasSegmented:!!be,originalLength:Z==null?void 0:Z.length,segmentedLength:be==null?void 0:be.length}),window.segmentationCore.setEnableSegmentation(!1),Z?(console.log("📸 進入預覽模式，停止相機和人臉檢測"),t.value=!1,($=window.segmentationCore)!=null&&$.stop&&window.segmentationCore.stop(),_&&h&&!h.paused?h.pause():p&&!p.paused&&p.pause(),console.log("🔍 準備調用 showPreview:",{hasShowPreviewFunction:!!e.showPreview,uiRefsKeys:Object.keys(e)}),e.showPreview?(console.log("📱 調用 showPreview 函數"),e.showPreview({originalImageData:Z,segmentedImageData:be})):console.error("❌ showPreview 函數不存在！"),e.detectionStatus.value="📸 拍照成功！選擇背景",setTimeout(()=>{e.detectionStatus.value="預覽模式"},2e3)):alert("拍照失敗，請重試")}catch(Z){console.error("Capture photo failed:",Z),window.segmentationCore.setEnableSegmentation(!1),alert("拍照失敗，請重試")}},xe=()=>{ee(!s.value)},He=async()=>{if(!(!A.value||!window.segmentationCore.shareLastRecording))try{const S=await window.segmentationCore.shareLastRecording();console.log("分享結果：",S),S&&S.url?alert("分享成功或已上傳: "+S.url):alert("分享已觸發（系統面板或已完成上傳）")}catch(S){console.error("分享失敗：",S),alert("分享失敗，建議先下載再手動分享")}},Ge=()=>{if(!A.value||!window.segmentationCore.getLastRecordingUrl)return;const S=window.segmentationCore.getLastRecordingUrl();if(!S){alert("目前沒有可下載的影片");return}const $=document.createElement("a");$.href=S,$.download="",document.body.appendChild($),$.click(),document.body.removeChild($),setTimeout(()=>{try{URL.revokeObjectURL(S)}catch{}},1500)},Je=()=>{var S;(S=window.segmentationCore)!=null&&S.onResize&&window.segmentationCore.onResize()},ie=()=>{var S;if(console.log("🌙 testMovBackground 被觸發"),!A.value){console.warn("⚠️ 核心未載入，無法播放 MOV"),alert("請先啟動相機再測試");return}o.value="person_overlay",n.value=!0,console.log("🔧 檢查核心狀態:",{coreLoaded:A.value,hasSegmentationCore:!!window.segmentationCore,hasSetBackgroundType:!!((S=window.segmentationCore)!=null&&S.setBackgroundType)}),A.value?(window.segmentationCore.setEnableSegmentation(!0),window.segmentationCore.setBackgroundType("person_overlay"),console.log("✅ 人像覆蓋模式已啟用，人像將顯示在月亮影片之上")):console.warn("⚠️ 核心未載入，無法設定人像覆蓋模式"),console.log("📹 檢查 MOV 播放條件:",{isIOSDevice:_,hasIOSMoonVideo:!!f,hasFullscreenMoonVideo:!!h,hasBgMoonVideo:!!p,iosPaused:f==null?void 0:f.paused,fullscreenPaused:h==null?void 0:h.paused,bgPaused:p==null?void 0:p.paused}),_&&h?(console.log("🍎 嘗試播放 iOS 全螢幕月相影片"),h.paused?h.play().then(()=>{console.log("✅ iOS 全螢幕月相影片播放成功"),e.detectionStatus.value="🍎🌙 iOS 透明月相模式：已啟用"}).catch($=>{console.warn("❌ iOS 全螢幕月相影片播放失敗:",$),e.detectionStatus.value="iOS 影片播放失敗"}):(console.log("ℹ️ iOS 全螢幕月相影片已在播放中"),e.detectionStatus.value="🍎🌙 iOS 透明月相模式：已啟用")):p?(console.log("🌙 嘗試播放月相影片 (非 iOS)"),p.paused?p.play().then(()=>{console.log("✅ 月相影片播放成功"),e.detectionStatus.value="🌙 自定義背景模式：已啟用"}).catch($=>{console.warn("❌ 月相影片播放失敗:",$),e.detectionStatus.value="影片播放失敗"}):console.log("ℹ️ 月相影片已在播放中")):console.warn("⚠️ 找不到可播放的月相影片元素")};return{cameraRunning:t,segmentationEnabled:n,showMask:s,backgroundType:o,effectIntensity:r,edgeFeather:i,temporalSmooth:a,threshold:u,faceCount:T,facesInArea:B,coreLoaded:A,initMediaPipe:re,startCamera:W,stopCamera:G,switchCamera:z,updateSegmentation:R,updateShowMask:ee,updateBackgroundType:de,updateEffectIntensity:K,updateEdgeFeather:se,updateTemporalSmooth:ve,updateThreshold:ye,capturePhoto:Ee,toggleMask:xe,shareVideo:He,downloadVideo:Ge,handleResize:Je,testMovBackground:ie}}function Rc(){const e=L(!1),t=L("尚未啟動"),n=L("Idle"),s=L(!1),o=L(""),r=L(!1),i=L({percent:0,current:0,total:8}),a=L("準備錄製..."),u=L(!1),p=L(!1),f=L(null),h=L([{id:"bg1",name:"月夜景觀",src:"images/pexels-photo-623218.jpeg",frame:"images/bgDefender.png",contentArea:{x:.05,y:.25,width:.9,height:.5},moonScale:1.5},{id:"bg2",name:"景色",src:"images/view.jpg",frame:"images/bgDiscovery.png",contentArea:{x:.05,y:.25,width:.9,height:.5},moonScale:1.5},{id:"bg3",name:"城市",src:"images/images.jpeg",frame:"images/bgRangerover.png",contentArea:{x:.05,y:.25,width:.9,height:.5},moonScale:1.5}]),_=L("bg1"),T=L(!1);return{mobileMenuOpen:e,detectionStatus:t,statusText:n,showLoadingModal:s,loadingMessage:o,showProgressModal:r,recordingProgress:i,progressStatus:a,showProgressControls:u,showPhotoPreview:p,previewImageData:f,availableBackgrounds:h,selectedBackground:_,previewWithSegmentation:T,toggleMobileMenu:()=>{e.value=!e.value,e.value?document.body.classList.add("panel-open"):document.body.classList.remove("panel-open"),setTimeout(()=>{var K;(K=window.segmentationCore)!=null&&K.onResize&&window.segmentationCore.onResize()},260)},closeProgressModal:()=>{r.value=!1},shareFromModal:async()=>{var K;if((K=window.segmentationCore)!=null&&K.shareLastRecording)try{await window.segmentationCore.shareLastRecording()}catch(se){console.error("分享失敗：",se),alert("分享失敗，建議先下載再手動分享")}},downloadFromModal:()=>{var K;if((K=window.segmentationCore)!=null&&K.getLastRecordingUrl){const se=window.segmentationCore.getLastRecordingUrl();if(se){const ve=document.createElement("a");ve.href=se,ve.download="",document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),setTimeout(()=>{try{URL.revokeObjectURL(se)}catch{}},1500)}}},createPhotoFlashEffect:()=>{const K=document.createElement("div");K.className="fixed inset-0 bg-white opacity-80 z-[9999] pointer-events-none animate-photo-flash",document.body.appendChild(K),setTimeout(()=>document.body.removeChild(K),200)},showPreview:K=>{f.value=K,p.value=!0},hidePreview:()=>{p.value=!1,f.value=null},selectBackground:K=>{var se;_.value=K,f.value&&((se=window.segmentationCore)!=null&&se.recomposePreview)&&window.segmentationCore.recomposePreview(K)},initKeyboardShortcuts:({startCamera:K,stopCamera:se,switchCamera:ve,capturePhoto:ye,cameraRunning:Ee})=>{document.addEventListener("keydown",xe=>{xe.key===" "&&(xe.preventDefault(),Ee.value?se():K()),xe.key.toLowerCase()==="c"&&Ee.value&&ve(),xe.key.toLowerCase()==="p"&&Ee.value&&(xe.preventDefault(),ye())})}}}const $c={name:"App",components:{LandingPage:Dl,AppHeader:Ul,ControlPanel:Ia,CameraStage:Na,StatusBar:za,LoadingModal:Xa,ProgressModal:ac,PhotoPreview:Oc},setup(){const e=L(!1),t=L(""),n=L(null),s=L(null),o=L(null),r=L(null),i=L(null),a=L(null),u="/range_rover_moon_fastival_public/",f=L((()=>{const Y=navigator.userAgent.toLowerCase(),ce=/iphone|ipad|ipod/.test(Y),Fe=/line/.test(Y),we=/crios/.test(Y),ae=/safari/.test(Y)&&!/chrome/.test(Y),it=new URLSearchParams(window.location.search).get("test-mov")==="1";return console.log("🔍 設備檢測:",{userAgent:Y,isIOS:ce,isLineApp:Fe,isChrome:we,isSafari:ae,isTestMode:it,shouldUseMOV:ce&&(Fe||we||ae)||it}),ce&&(Fe||we||ae)||it})()),h=async Y=>{t.value=Y,e.value=!0,await Ht();try{await l(),b("custom_moon_bg"),m(!1),console.log("✅ 自動啟動相機成功 - 預覽模式")}catch(ce){console.error("❌ 自動啟動失敗:",ce)}},_=Y=>{console.error("🎬 MOV 載入錯誤:",Y.target.error),console.log("🎬 嘗試載入的路徑:",Y.target.src)},T=Y=>{console.log("🎬 MOV 開始載入:",Y.target.src)},B=Y=>{console.log("🎬 MOV 可以播放:",Y.target.src)},{mobileMenuOpen:A,detectionStatus:re,statusText:W,showLoadingModal:G,loadingMessage:z,showProgressModal:R,recordingProgress:ee,progressStatus:de,showProgressControls:K,showPhotoPreview:se,previewImageData:ve,availableBackgrounds:ye,selectedBackground:Ee,toggleMobileMenu:xe,closeProgressModal:He,shareFromModal:Ge,downloadFromModal:Je,showPreview:ie,hidePreview:S,selectBackground:$,createPhotoFlashEffect:Z,initKeyboardShortcuts:be}=Rc(),j=Fc({detectionStatus:re,statusText:W,showProgressModal:R,recordingProgress:ee,progressStatus:de,showProgressControls:K,showPreview:ie}),{cameraRunning:le,segmentationEnabled:Ve,showMask:At,backgroundType:xt,effectIntensity:C,edgeFeather:M,temporalSmooth:D,threshold:H,faceCount:O,facesInArea:X,startCamera:l,stopCamera:c,switchCamera:d,updateSegmentation:m,updateShowMask:v,updateBackgroundType:b,updateEffectIntensity:y,updateEdgeFeather:P,updateTemporalSmooth:x,updateThreshold:w,capturePhoto:I,toggleMask:E,shareVideo:k,downloadVideo:F,initMediaPipe:V,handleResize:q,testMovBackground:J}=j,pe=async()=>{var ce,Fe,we,ae;if(await Ht(),o.value){const fe="/range_rover_moon_fastival_public/";o.value.src=fe+"moon.mp4"}if(r.value&&f.value){const fe="/range_rover_moon_fastival_public/";r.value.src=fe+"moon_alpha_ios.mov",console.log("🍎 iOS設備檢測到，載入透明MOV:",fe+"moon_alpha_ios.mov")}if(be({startCamera:l,stopCamera:c,switchCamera:d,capturePhoto:I,cameraRunning:le}),await Ht(),!a.value){console.warn("⚠️ CameraStage 引用未找到，延遲初始化"),setTimeout(pe,200);return}const Y={videoEl:n.value,bgCanvas:(ce=a.value)==null?void 0:ce.bgCanvas,maskCanvas:(Fe=a.value)==null?void 0:Fe.maskCanvas,outCanvas:(we=a.value)==null?void 0:we.outputCanvas,bgVideoEl:s.value,bgMoonVideoEl:o.value,iosMoonVideoEl:r.value,fullscreenMoonEl:(ae=a.value)==null?void 0:ae.moonVideo,isIOSDevice:f.value};console.log("🔧 Elements 檢查:",{hasVideoEl:!!Y.videoEl,hasBgCanvas:!!Y.bgCanvas,hasMaskCanvas:!!Y.maskCanvas,hasOutCanvas:!!Y.outCanvas,isIOSDevice:Y.isIOSDevice});try{await V(Y)}catch(fe){console.error("❌ MediaPipe 初始化失敗:",fe),f.value&&console.log("🍎 iOS 設備：即使 MediaPipe 失敗也將繼續")}window.addEventListener("resize",q),console.log("🎥 自動開啟相機..."),setTimeout(()=>{l()},500)},he=()=>{e.value&&setTimeout(pe,100)};return Jt(()=>{cn(e,he)}),bn(()=>{window.removeEventListener("resize",q)}),{showCameraApp:e,userName:t,handleStartCamera:h,videoEl:n,bgVideoEl:s,bgMoonVideoEl:o,iosMoonVideoEl:r,fullscreenMoonEl:i,cameraStageRef:a,mobileMenuOpen:A,detectionStatus:re,statusText:W,showLoadingModal:G,loadingMessage:z,showProgressModal:R,recordingProgress:ee,progressStatus:de,showProgressControls:K,showPhotoPreview:se,previewImageData:ve,availableBackgrounds:ye,selectedBackground:Ee,toggleMobileMenu:xe,closeProgressModal:He,shareFromModal:Ge,downloadFromModal:Je,showPreview:ie,hidePreview:S,selectBackground:$,createPhotoFlashEffect:Z,cameraRunning:le,segmentationEnabled:Ve,showMask:At,backgroundType:xt,effectIntensity:C,edgeFeather:M,temporalSmooth:D,threshold:H,faceCount:O,facesInArea:X,basePath:u,isIOSDevice:f,startCamera:l,stopCamera:c,switchCamera:d,updateSegmentation:m,updateShowMask:v,updateBackgroundType:b,updateEffectIntensity:y,updateEdgeFeather:P,updateTemporalSmooth:x,updateThreshold:w,capturePhoto:I,toggleMask:E,shareVideo:k,downloadVideo:F,testMovBackground:J,handleMovError:_,handleMovLoadStart:T,handleMovCanPlay:B}}},Lc={id:"app",class:"min-h-screen bg-app-bg text-app-fg"},Dc={key:1},jc={class:"grid grid-cols-1 h-screen"},Vc={class:"hidden"},Bc={ref:"videoEl",class:"input_video",playsinline:""},Nc={ref:"bgVideoEl",class:"bg_video",playsinline:"",muted:"",loop:"",preload:"auto",src:"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4"},Hc={ref:"bgMoonVideoEl",class:"bg_video",muted:"",loop:"",preload:"auto",playsinline:"",style:{display:"none"}},Uc={ref:"iosMoonVideoEl",class:"bg_video",muted:"",loop:"",preload:"auto",playsinline:"","webkit-playsinline":"",style:{display:"none","pointer-events":"none",background:"transparent"}};function Wc(e,t,n,s,o,r){const i=Ct("LandingPage"),a=Ct("CameraStage"),u=Ct("StatusBar"),p=Ct("LoadingModal"),f=Ct("ProgressModal"),h=Ct("PhotoPreview");return ge(),Ie("div",Lc,[s.showCameraApp?(ge(),Ie("div",Dc,[g("main",jc,[De(a,{ref:"cameraStageRef",class:"relative bg-gray-900 overflow-hidden w-full h-full","background-type":s.backgroundType,"is-i-o-s-device":s.isIOSDevice,"show-controls":!s.showPhotoPreview&&!s.showProgressModal,onCapturePhoto:s.capturePhoto,onShareVideo:s.shareVideo,onDownloadVideo:s.downloadVideo},null,8,["background-type","is-i-o-s-device","show-controls","onCapturePhoto","onShareVideo","onDownloadVideo"])]),at(g("div",{class:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm z-40 lg:hidden",onClick:t[0]||(t[0]=(..._)=>s.toggleMobileMenu&&s.toggleMobileMenu(..._))},null,512),[[bt,s.mobileMenuOpen]]),De(u,{status:s.statusText},null,8,["status"]),s.showLoadingModal?(ge(),Dt(p,{key:0,message:s.loadingMessage},null,8,["message"])):ft("",!0),s.showProgressModal?(ge(),Dt(f,{key:1,progress:s.recordingProgress,status:s.progressStatus,"show-controls":s.showProgressControls,onClose:s.closeProgressModal,onShare:s.shareFromModal,onDownload:s.downloadFromModal},null,8,["progress","status","show-controls","onClose","onShare","onDownload"])):ft("",!0),s.showPhotoPreview?(ge(),Dt(h,{key:2,"original-image-data":s.previewImageData,"available-backgrounds":s.availableBackgrounds,"selected-background":s.selectedBackground,"user-name":s.userName,onClose:s.hidePreview,onBackgroundChange:s.selectBackground},null,8,["original-image-data","available-backgrounds","selected-background","user-name","onClose","onBackgroundChange"])):ft("",!0),g("div",Vc,[g("video",Bc,null,512),g("video",Nc,null,512),g("video",Hc,null,512),g("video",Uc,null,512)])])):(ge(),Dt(i,{key:0,onStartCamera:s.handleStartCamera},null,8,["onStartCamera"]))])}const Kc=rt($c,[["render",Wc]]);El(Kc).mount("#app");
//# sourceMappingURL=index-HOczP6i9.js.map
